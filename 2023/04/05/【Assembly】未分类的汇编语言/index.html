<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>【Assembly】未分类的汇编语言 | Keike1</title><meta name="author" content="Keike1"><meta name="copyright" content="Keike1"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="课本 编译方法 编译与连接 12masm test.asmlink test.obj 生成可执行文件后执行 1test.exe 伪指令定义 伪指令用来指出程序分段、数据定义、存储分配、程序开始和结束等相关信息。 段定义伪指令 segment和ends成对使用 123456789101112data segment...data endsextra segment...extra">
<meta property="og:type" content="article">
<meta property="og:title" content="【Assembly】未分类的汇编语言">
<meta property="og:url" content="https://keikei99.github.io/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/index.html">
<meta property="og:site_name" content="Keike1">
<meta property="og:description" content="课本 编译方法 编译与连接 12masm test.asmlink test.obj 生成可执行文件后执行 1test.exe 伪指令定义 伪指令用来指出程序分段、数据定义、存储分配、程序开始和结束等相关信息。 段定义伪指令 segment和ends成对使用 123456789101112data segment...data endsextra segment...extra">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://keikei99.github.io/img/page/page7.png">
<meta property="article:published_time" content="2023-04-05T14:48:15.000Z">
<meta property="article:modified_time" content="2023-06-04T15:52:33.036Z">
<meta property="article:author" content="Keike1">
<meta property="article:tag" content="Assembly">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://keikei99.github.io/img/page/page7.png"><link rel="shortcut icon" href="/img/th.ico"><link rel="canonical" href="https://keikei99.github.io/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【Assembly】未分类的汇编语言',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-04 23:52:33'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/ip.ico" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/page/page7.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Keike1"><span class="site-name">Keike1</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">【Assembly】未分类的汇编语言</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-05T14:48:15.000Z" title="发表于 2023-04-05 22:48:15">2023-04-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-04T15:52:33.036Z" title="更新于 2023-06-04 23:52:33">2023-06-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="【Assembly】未分类的汇编语言"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="课本">课本</h1>
<h2 id="编译方法">编译方法</h2>
<p>编译与连接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">masm test.asm</span><br><span class="line">link test.obj</span><br></pre></td></tr></table></figure>
<p>生成可执行文件后执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test.exe</span><br></pre></td></tr></table></figure>
<h2 id="伪指令定义">伪指令定义</h2>
<p>伪指令用来指出程序分段、数据定义、存储分配、程序开始和结束等相关信息。</p>
<h3 id="段定义伪指令">段定义伪指令</h3>
<p>segment和ends成对使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">...</span><br><span class="line">data ends</span><br><span class="line">extra segment</span><br><span class="line">...</span><br><span class="line">extra ends</span><br><span class="line">stack segment</span><br><span class="line">...</span><br><span class="line">stack ends</span><br><span class="line">code segment</span><br><span class="line">...</span><br><span class="line">code ends</span><br></pre></td></tr></table></figure>
<p>使用assume伪指令知名段寄存器与段的对应关系</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code,ds:data,es:extra,ss:stack</span><br></pre></td></tr></table></figure>
<h3 id="数据定义伪指令">数据定义伪指令</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db 定义字节单元（byte）</span><br><span class="line">dw 定义字单元（word）</span><br><span class="line">dd 定义双字单元（double word）</span><br><span class="line">dq 定义四字单元</span><br><span class="line">dt 定义十字节单元</span><br></pre></td></tr></table></figure>
<p>举例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">	x db 56</span><br><span class="line">	e_1 dw 2030H</span><br><span class="line">	carry dd 12345678H</span><br><span class="line">data ends</span><br></pre></td></tr></table></figure>
<p>可以使用dup循环指令定义存储空间</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n dup(m) ;表示n个m</span><br></pre></td></tr></table></figure>
<h3 id="其他伪指令">其他伪指令</h3>
<h2 id="个数倒序存放">3个数倒序存放</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x dw 12,34,56</span><br><span class="line">    y dw 3 dup(?)</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data</span><br><span class="line">    mov ds,ax</span><br><span class="line">    push x</span><br><span class="line">    push x+2</span><br><span class="line">    push x+4</span><br><span class="line">    pop y</span><br><span class="line">    pop y+2</span><br><span class="line">    pop y+4</span><br><span class="line">    mov ah,4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h2 id="查十六进制数的ascii码表">查十六进制数的ASCII码表</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    table db 30h,31h,32h,33h,34h,35h,36h,37h</span><br><span class="line">          db 38h,39h,41h,42h,43h,44h,45h,46h</span><br><span class="line">    hex db 6 ;查找6</span><br><span class="line">    ascii db ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">begin: </span><br><span class="line">    mov ax,data</span><br><span class="line">    mov ds,ax</span><br><span class="line">    mov bx,offset table</span><br><span class="line">    mov al,hex</span><br><span class="line">    xlat</span><br><span class="line">    mov ascii,al</span><br><span class="line">    mov dl,ascii</span><br><span class="line">    mov ah,02h</span><br><span class="line">    int 21h</span><br><span class="line">    mov ah,4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end begin</span><br></pre></td></tr></table></figure>
<h2 id="以内的十进制数与一位十六进制数的转换">15以内的十进制数与一位十六进制数的转换</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    table db 30h, 31h, 32h, 33h, 34h, 35h, 36h, 37h</span><br><span class="line">          db 38h, 39h, 41h, 42h, 43h, 44h, 45h, 46h</span><br><span class="line">    x db 13 ; 查询十进制数13</span><br><span class="line">    ascii db ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code, ds:data</span><br><span class="line">begin: </span><br><span class="line">	mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov bl, x   ;x是字节数，因此放入bl寄存器（bx寄存器的低位）</span><br><span class="line">    mov bh, 0   ;bx的高位清零</span><br><span class="line">    mov al,table[bx]    ;源操作数为相对寄存器寻址</span><br><span class="line">    mov ascii, al</span><br><span class="line">    mov dl, al</span><br><span class="line">    mov ah, 02h     ;显示这个十六进制数</span><br><span class="line">    int 21h</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end begin</span><br></pre></td></tr></table></figure>
<h2 id="两个双精度数加法">两个双精度数加法</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">; 4-4.asm 两个双精度数加法</span><br><span class="line">data segment    </span><br><span class="line">    dd 20034980h</span><br><span class="line">    dd 1008e699h</span><br><span class="line">    dd ?</span><br><span class="line">data ends</span><br><span class="line">code segment    </span><br><span class="line">    assume cs:code, ds:data</span><br><span class="line">start: </span><br><span class="line">    mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov ax, ds:[0]</span><br><span class="line">    mov dx, ds:[2]</span><br><span class="line">    mov bx, ds:[4]</span><br><span class="line">    mov cx, ds:[6]</span><br><span class="line">    add ax, bx  ; 低字相加</span><br><span class="line">    adc dx, cx  ; 高字带进位加</span><br><span class="line">    mov ds:[8], ax ; 将结果存放在数据段中</span><br><span class="line">    mov ds:[10], dx</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h2 id="分支程序设计5-1">分支程序设计5-1</h2>
<p>按照如下公式编写汇编代码，实现输入x并输出对应的y <span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -3.828ex;" xmlns="http://www.w3.org/2000/svg" width="25.444ex" height="8.787ex" role="img" focusable="false" viewBox="0 -2192 11246.1 3883.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mrow" transform="translate(1823.6,0)"><g data-mml-node="mo"><path data-c="23A7" d="M712 899L718 893V876V865Q718 854 704 846Q627 793 577 710T510 525Q510 524 509 521Q505 493 504 349Q504 345 504 334Q504 277 504 240Q504 -2 503 -4Q502 -8 494 -9T444 -10Q392 -10 390 -9Q387 -8 386 -5Q384 5 384 230Q384 262 384 312T383 382Q383 481 392 535T434 656Q510 806 664 892L677 899H712Z" transform="translate(0,1293)"></path><path data-c="23A9" d="M718 -893L712 -899H677L666 -893Q542 -825 468 -714T385 -476Q384 -466 384 -282Q384 3 385 5L389 9Q392 10 444 10Q486 10 494 9T503 4Q504 2 504 -239V-310V-366Q504 -470 508 -513T530 -609Q546 -657 569 -698T617 -767T661 -812T699 -843T717 -856T718 -876V-893Z" transform="translate(0,-793)"></path><path data-c="23A8" d="M389 1159Q391 1160 455 1160Q496 1160 498 1159Q501 1158 502 1155Q504 1145 504 924Q504 691 503 682Q494 549 425 439T243 259L229 250L243 241Q349 175 421 66T503 -182Q504 -191 504 -424Q504 -600 504 -629T499 -659H498Q496 -660 444 -660T390 -659Q387 -658 386 -655Q384 -645 384 -425V-282Q384 -176 377 -116T342 10Q325 54 301 92T255 155T214 196T183 222T171 232Q170 233 170 250T171 268Q171 269 191 284T240 331T300 407T354 524T383 679Q384 691 384 925Q384 1152 385 1155L389 1159Z" transform="translate(0,0)"></path><svg width="889" height="323" y="1060" x="0" viewBox="0 56.9 889 323"><path data-c="23AA" d="M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z" transform="scale(1,1.588)"></path></svg><svg width="889" height="323" y="-883" x="0" viewBox="0 56.9 889 323"><path data-c="23AA" d="M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z" transform="scale(1,1.588)"></path></svg></g><g data-mml-node="mtable" transform="translate(889,0)"><g data-mml-node="mtr" transform="translate(0,1358)"><g data-mml-node="mtd" transform="translate(892.9,0)"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mtd" transform="translate(4961.2,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(849.8,0)"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path></g><g data-mml-node="mn" transform="translate(1905.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-42)"><g data-mml-node="mtd"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(1294.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(2294.4,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g><g data-mml-node="mtd" transform="translate(3794.4,0)"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mi" transform="translate(1833.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2683.3,0)"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path></g><g data-mml-node="mn" transform="translate(3739.1,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)"></path></g></g></g><g data-mml-node="mtr" transform="translate(0,-1442)"><g data-mml-node="mtd" transform="translate(611.2,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(572,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mn" transform="translate(1072,0)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></g></g><g data-mml-node="mtd" transform="translate(4711.2,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(849.8,0)"><path data-c="2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path></g><g data-mml-node="mn" transform="translate(1905.6,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)"></path></g></g></g></g><g data-mml-node="mo" transform="translate(9422.6,0) translate(0 250)"></g></g></g></g></svg></mjx-container></span></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x dw 9,-6,34</span><br><span class="line">    y dw 3 dup(?)</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code, ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data</span><br><span class="line">    mov ds,ax</span><br><span class="line">    mov cx,3;循环三次</span><br><span class="line">    mov si,0</span><br><span class="line">let0:</span><br><span class="line">    mov ax,x[si];取出x</span><br><span class="line">    cmp ax,0;x&gt;=0?</span><br><span class="line">    jge let1;是，转到let1</span><br><span class="line">    mov bx,ax;否，计算x*x</span><br><span class="line">    imul bx;</span><br><span class="line">    jmp out1;跳到公共出口out1</span><br><span class="line">let1:</span><br><span class="line">    cmp ax,10;x&gt;=10?</span><br><span class="line">    jge let2;是，转到let2</span><br><span class="line">    sal ax,1;否，计算2x+3</span><br><span class="line">    add ax,3;</span><br><span class="line">    jmp out1;跳到公共出口out1</span><br><span class="line">let2:</span><br><span class="line">    mov bl,6;计算x/6</span><br><span class="line">    idiv bl;商在al，余数在ah</span><br><span class="line">out1:</span><br><span class="line">    mov y[si],ax;保存y</span><br><span class="line">    add si,2;</span><br><span class="line">    dec cx;cx减1</span><br><span class="line">    cmp cx,0;</span><br><span class="line">    jnz let0;cx!=0转移到let0</span><br><span class="line">    mov ah,4ch;cx=0程序结束</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/5-1.png" class="" title="5-1">
<h2 id="分支程序设计5-2">分支程序设计5-2</h2>
<p>计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="11.579ex" height="1.971ex" role="img" focusable="false" viewBox="0 -666 5118 871"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1823.6,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g><g data-mml-node="mi" transform="translate(2323.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(3117.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(4118,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(500,0)"></path></g></g></g></svg></mjx-container></span>，如果结果为负，求绝对值。并显示十进制结果。</p>
<p>实际上结果就是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="12.837ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 5674 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1823.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mn" transform="translate(2101.6,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g><g data-mml-node="mi" transform="translate(2601.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(3395.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(4396,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(500,0)"></path></g><g data-mml-node="mo" transform="translate(5396,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container></span>，直接计算结果就行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x db ?</span><br><span class="line">    y dw ?</span><br><span class="line">    info db 'input: $'</span><br><span class="line">    cc db 0ah,0dh,'y = $'</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov dx,offset info;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1;</span><br><span class="line">    int 21h;</span><br><span class="line">    sub al,30h;</span><br><span class="line">    mov bl,5;</span><br><span class="line">    imul bl;</span><br><span class="line">    sub ax,18;</span><br><span class="line">    jns let0;</span><br><span class="line">    neg ax;</span><br><span class="line">let0:</span><br><span class="line">    mov y,ax;</span><br><span class="line">    mov cx,0;</span><br><span class="line">    mov bx,10;</span><br><span class="line">let1:</span><br><span class="line">    mov dx,0;</span><br><span class="line">    inc cx;</span><br><span class="line">    idiv bx;</span><br><span class="line">    push dx;</span><br><span class="line">    cmp ax,0;</span><br><span class="line">    jnz let1;</span><br><span class="line">    mov dx,offset cc;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h</span><br><span class="line">let2:</span><br><span class="line">    pop ax;</span><br><span class="line">    add ax,0030h;</span><br><span class="line">    mov dl,al;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    dec cx;</span><br><span class="line">    cmp cx,0;</span><br><span class="line">    jnz let2;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/5-2.png" class="" title="5-2">
<h2 id="分支程序设计5-3">分支程序设计5-3</h2>
<p>从键盘输入一串字符，如果是数字存入NUMB单元，如果是字母，将大写字母存入CAPI单元，小写字母存入LETT单元，分别统计个数，输入回车时退出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    numb db 10 dup(?);</span><br><span class="line">    capi db 10 dup(?);</span><br><span class="line">    lett db 10 dup(?);</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">let0:</span><br><span class="line">    mov ah,1; 键盘输入</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al,0dh; 判断回车</span><br><span class="line">    jz exit;</span><br><span class="line">    test al,40h; 用于区分字母和数字，第6位</span><br><span class="line">    jz let1;</span><br><span class="line">    test al,20h; 用于区分大小写字母，第5位</span><br><span class="line">    jz let2;</span><br><span class="line">    cmp al,7ah; 排除不是小写字母</span><br><span class="line">    ja exit;</span><br><span class="line">    mov lett[bx],al;</span><br><span class="line">    inc bx; 小写个数加1</span><br><span class="line">    jmp let0;</span><br><span class="line">let2:</span><br><span class="line">    cmp al,5ah;</span><br><span class="line">    ja exit;</span><br><span class="line">    mov capi[si],al;</span><br><span class="line">    inc si; 大写个数加1</span><br><span class="line">    jmp let0;</span><br><span class="line">let1:</span><br><span class="line">    cmp al,'0';</span><br><span class="line">    jb exit;</span><br><span class="line">    cmp al,'9';</span><br><span class="line">    ja exit;</span><br><span class="line">    mov numb[di],al;</span><br><span class="line">    inc di; 数字个数加1</span><br><span class="line">    jmp let0;</span><br><span class="line">exit:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/5-3.png" class="" title="5-3">
<h2 id="分支程序设计5-4">分支程序设计5-4</h2>
<p>输入字符串，小写转大写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    mess1 db 0ah,0dh,'input:$';</span><br><span class="line">    mess2 db 0ah,0dh,'output:$';</span><br><span class="line">    buff db 10,?,10 dup(?);</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">prog1:</span><br><span class="line">    mov dx,offset mess1; 显示提示1</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dx,offset buff; 输入字符串</span><br><span class="line">    mov ah,10;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov cl,buff+1; 实际输入的字母个数</span><br><span class="line">    mov bx,2; 第一个字母的地址</span><br><span class="line">    mov dx,offset mess2; 显示提示2</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">let1:</span><br><span class="line">    and buff[bx],0dfh; 小写字母变为大写</span><br><span class="line">    mov dl,buff[bx]; 循环显示每个字母</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    inc bx;</span><br><span class="line">    dec cl;</span><br><span class="line">    jnz let1;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230418093005059.png" class="" title="image-20230418093005059">
<h2 id="分支程序设计5-5">分支程序设计5-5</h2>
<p>输入一个数字<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container></span>，输出它的十进制<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.91ex" role="img" focusable="false" viewBox="0 -833.2 1008.6 844.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></svg></mjx-container></span></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    mess1 db 0ah,0dh,'input:$';</span><br><span class="line">    mess2 db 0ah,0dh,'output:$';</span><br><span class="line">    x db 3 dup(?);</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">let0:</span><br><span class="line">    ;显示mess1</span><br><span class="line">    mov dx,offset mess1; </span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    ;输入0~9</span><br><span class="line">    mov ah,1; </span><br><span class="line">    int 21h;</span><br><span class="line">    ;输入判断</span><br><span class="line">    cmp al,27; 判断是不是esc，是则退出</span><br><span class="line">    jz out1;</span><br><span class="line">    cmp al,'0'; 判断输入的是不是个数字</span><br><span class="line">    jb let0;</span><br><span class="line">    cmp al,'9';</span><br><span class="line">    ja let0;</span><br><span class="line">    </span><br><span class="line">    and al,0fh; 去掉ASCII码</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,al; 求m³，结果存在al中</span><br><span class="line">    mul bl;</span><br><span class="line">    mul bl; </span><br><span class="line">    mov bl,10; 立方变为10进制</span><br><span class="line">    div bl; ah存商，al存余数</span><br><span class="line">    add ah,30h; </span><br><span class="line">    mov x,ah; 先用x保存个位</span><br><span class="line">    </span><br><span class="line">    cmp al,10; 判断余数是不是大于10；</span><br><span class="line">    jb let2;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    div bl;</span><br><span class="line">    add ah,30h;</span><br><span class="line">    mov x+1,ah;</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov x+2,al;</span><br><span class="line">    jmp let3;</span><br><span class="line">let2:</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov x+1,al;</span><br><span class="line">let3:</span><br><span class="line">    mov ax,0;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    mov dx,offset mess2; 显示mess2</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">    mov dl,x+2; 显示立方</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,x+1;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,x;</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">    mov word ptr x,0; 单元清零，初始化</span><br><span class="line">    mov word ptr x+2,0;</span><br><span class="line">    jmp let0;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230418092859108.png" class="" title="image-20230418092859108">
<h2 id="分支程序设计5-8">分支程序设计5-8</h2>
<p>设计菜单程序，实现三个功能：</p>
<ul>
<li>小写字母转换大小写</li>
<li>计算立方值</li>
<li>退出</li>
</ul>
<p>设计思路：</p>
<ol type="1">
<li>在数据段中定义菜单。每行换行显示；</li>
<li>用9号功能显示菜单；</li>
<li>根据输入选择执行某段程序</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    mess0 db 0ah,0dh,'1.input string'</span><br><span class="line">          db 0ah,0dh,'2.calculate cube'</span><br><span class="line">          db 0ah,0dh,'3.exit'</span><br><span class="line">          db 0ah,0dh,'select: $'</span><br><span class="line">    mess1 db 0ah,0dh,'input: $'</span><br><span class="line">    mess2 db 0ah,0dh,'output: $'</span><br><span class="line">    buff db 10,?,10 dup(?)</span><br><span class="line">    x db 3 dup(?)</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume ds:data,cs:code</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">let0:</span><br><span class="line">    mov dx,offset mess0; 显示菜单</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 输入选择</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al,'1';</span><br><span class="line">    jz prog1;</span><br><span class="line">    cmp al,'2';</span><br><span class="line">    jz prog2;</span><br><span class="line">    jmp prog3;</span><br><span class="line">prog1:</span><br><span class="line">    ; 5-4.asm 程序部分</span><br><span class="line">    ; 输入英文单词，将小写字母转换为大写</span><br><span class="line">    mov dx,offset mess1; 显示提示1</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dx,offset buff; 输入字符串</span><br><span class="line">    mov ah,10;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov cl,buff+1; 实际输入的字母个数</span><br><span class="line">    mov bx,2; 第一个字母的地址</span><br><span class="line">    mov dx,offset mess2; 显示提示2</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">let1:</span><br><span class="line">    and buff[bx],0dfh; 小写字母变为大写</span><br><span class="line">    mov dl,buff[bx]; 循环显示每个字母</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    inc bx;</span><br><span class="line">    dec cl;</span><br><span class="line">    jnz let1;</span><br><span class="line">    jmp let0;</span><br><span class="line">prog2:</span><br><span class="line">    ; 5-5.asm 程序部分</span><br><span class="line">    ; 计算0~9立方值</span><br><span class="line">    ;显示mess1</span><br><span class="line">    mov dx,offset mess1; </span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    ;输入0~9</span><br><span class="line">    mov ah,1; </span><br><span class="line">    int 21h;</span><br><span class="line">    ;输入判断</span><br><span class="line">    cmp al,27; 判断是不是esc，是则退出</span><br><span class="line">    jz prog3;</span><br><span class="line">    cmp al,'0'; 判断输入的是不是个数字</span><br><span class="line">    jb let0;</span><br><span class="line">    cmp al,'9';</span><br><span class="line">    ja let0;</span><br><span class="line">    </span><br><span class="line">    and al,0fh; 去掉ASCII码</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,al; 求m³，结果存在al中</span><br><span class="line">    mul bl;</span><br><span class="line">    mul bl; </span><br><span class="line">    mov bl,10; 立方变为10进制</span><br><span class="line">    div bl; ah存商，al存余数</span><br><span class="line">    add ah,30h; </span><br><span class="line">    mov x,ah; 先用x保存个位</span><br><span class="line">    </span><br><span class="line">    cmp al,10; 判断余数是不是大于10；</span><br><span class="line">    jb let2;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    div bl;</span><br><span class="line">    add ah,30h;</span><br><span class="line">    mov x+1,ah;</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov x+2,al;</span><br><span class="line">    jmp let3;</span><br><span class="line">let2:</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov x+1,al;</span><br><span class="line">let3:</span><br><span class="line">    mov ax,0;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    mov dx,offset mess2; 显示mess2</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">    mov dl,x+2; 显示立方</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,x+1;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,x;</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">    mov word ptr x,0; 单元清零，初始化</span><br><span class="line">    mov word ptr x+2,0;</span><br><span class="line">    jmp let0;</span><br><span class="line">prog3:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422171057146.png" class="" title="image-20230422171057146">
<h2 id="分支程序设计5-9">分支程序设计5-9</h2>
<p>输入1，计算并显示<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="9.238ex" height="1.783ex" role="img" focusable="false" viewBox="0 -583 4083 788"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(742.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1798.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2592.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(3593,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></span>；输入2，则将输入的字母改变大小写；输入0则退出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    table dw prog0,prog1,prog2,prog0;</span><br><span class="line">    mess1 db 0ah,0dh,'input(0~2):$';</span><br><span class="line">    mess2 db 0ah,0dh,'z = x + y = $';</span><br><span class="line">    x db 3;</span><br><span class="line">    y db 6;</span><br><span class="line">    z db ?;</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">let0:;</span><br><span class="line">    mov dx,offset mess1;</span><br><span class="line">    mov ah,9; 显示输入信息</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 键盘输入分支选择</span><br><span class="line">    int 21h;</span><br><span class="line">    and al,03h; 保留al最低2位，其余位清0</span><br><span class="line">    mov ah,0;</span><br><span class="line">    shl ax,1; 左移1位，计算分支表地址</span><br><span class="line">    mov bx,ax;</span><br><span class="line">    jmp table[bx]; 按分支表转移</span><br><span class="line">prog1:</span><br><span class="line">    mov dx,offset mess2;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov al,x;</span><br><span class="line">    add al,y;</span><br><span class="line">    mov z,al; z = x + y</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov dl,al;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    jmp let0; 返回菜单</span><br><span class="line">prog2:</span><br><span class="line">    mov dl,0ah; 换行</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 输入字母</span><br><span class="line">    int 21h;</span><br><span class="line">    test al,20h;</span><br><span class="line">    jz let1; 是大写</span><br><span class="line">    and al,0dfh; 小写转大写</span><br><span class="line">    jmp let2;</span><br><span class="line">let1:</span><br><span class="line">    or al,20h;</span><br><span class="line">let2:</span><br><span class="line">    mov dl,al;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    jmp let0;</span><br><span class="line">prog0:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422165039155.png" class="" title="image-20230422165039155">
<h2 id="作业5-27">作业5-27</h2>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212318609.png" class="" title="image-20230424212318609">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x db -1</span><br><span class="line">    y db ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    cmp x,0;</span><br><span class="line">    jge let0;</span><br><span class="line">    mov al,x;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,4;</span><br><span class="line">    imul bl;</span><br><span class="line">    mov y,al;</span><br><span class="line">    jmp out1;</span><br><span class="line">let0:</span><br><span class="line">    cmp x,0;</span><br><span class="line">    je let1;</span><br><span class="line">    mov al,x;</span><br><span class="line">    mov bl,3;</span><br><span class="line">    add al,bl;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,2;</span><br><span class="line">    idiv bl;</span><br><span class="line">    mov y,ah;</span><br><span class="line">    jmp out1;</span><br><span class="line">let1:</span><br><span class="line">    mov y,0;</span><br><span class="line">    jmp out1;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212535453.png" class="" title="image-20230424212535453">
<h2 id="作业5-28">作业5-28</h2>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212330880.png" class="" title="image-20230424212330880">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x db 2</span><br><span class="line">    y db 32</span><br><span class="line">    z db ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    cmp x,0;</span><br><span class="line">    jge let0;</span><br><span class="line">    mov bl,0;</span><br><span class="line">    sub bl,x;</span><br><span class="line">    mov z,bl;</span><br><span class="line">    jmp out1;</span><br><span class="line">let0:</span><br><span class="line">    mov al,x;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,4;</span><br><span class="line">    imul bl;</span><br><span class="line">    mov cx,ax;</span><br><span class="line">    mov al,y;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,16;</span><br><span class="line">    idiv bl;</span><br><span class="line">    sub cl,al;</span><br><span class="line">    mov z,cl;</span><br><span class="line">    jmp out1;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212540030.png" class="" title="image-20230424212540030">
<h2 id="作业5-29">作业5-29</h2>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212409057.png" class="" title="image-20230424212409057">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    M dw -4,-3,-2,-1,0,1,2,3,4,5</span><br><span class="line">    posi db 0</span><br><span class="line">    nega db 0</span><br><span class="line">    zero db 0</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov si,0;</span><br><span class="line">    mov cx,10;</span><br><span class="line">let0:</span><br><span class="line">    mov ax,M[si];</span><br><span class="line">    cmp ax,0;</span><br><span class="line">    jge let1;</span><br><span class="line">    mov bl,nega;</span><br><span class="line">    inc bl;</span><br><span class="line">    mov nega,bl;</span><br><span class="line">    jmp out1;</span><br><span class="line">let1:</span><br><span class="line">    cmp ax,0;</span><br><span class="line">    je let2;</span><br><span class="line">    mov bl,posi;</span><br><span class="line">    inc bl;</span><br><span class="line">    mov posi,bl;</span><br><span class="line">    jmp out1;</span><br><span class="line">let2:</span><br><span class="line">    mov bl,zero;</span><br><span class="line">    inc bl;</span><br><span class="line">    mov zero,bl;</span><br><span class="line">    jmp out1;</span><br><span class="line">out1:</span><br><span class="line">    add si,2;</span><br><span class="line">    dec cx;</span><br><span class="line">    cmp cx,0;</span><br><span class="line">    jnz let0;</span><br><span class="line">out2:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212543874.png" class="" title="image-20230424212543874">
<h2 id="作业5-30">作业5-30</h2>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212430592.png" class="" title="image-20230424212430592">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    info db 'input: $'</span><br><span class="line">    buf db 50 dup(0)</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov si,0;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    mov dx,offset info;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1;</span><br><span class="line">let0:</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al,20h;</span><br><span class="line">    je let1;</span><br><span class="line">    mov buf[si],al;</span><br><span class="line">    inc si;</span><br><span class="line">    jmp let0;</span><br><span class="line">let1:</span><br><span class="line">    mov buf[si],'$';</span><br><span class="line">    jmp out1;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212548592.png" class="" title="image-20230424212548592">
<h2 id="作业5-31">作业5-31</h2>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212454482.png" class="" title="image-20230424212454482">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212502000.png" class="" title="image-20230424212502000">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">code segment</span><br><span class="line">    assume cs:code</span><br><span class="line">start:</span><br><span class="line">    mov ax,1234h;</span><br><span class="line">    mov bx,ax;</span><br><span class="line">    and al,0fh;</span><br><span class="line">    and bl,0f0h;</span><br><span class="line">    and ah,0fh;</span><br><span class="line">    mov cl,ah;</span><br><span class="line">    and bh,0f0h;</span><br><span class="line">    mov dl,bh;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424212552398.png" class="" title="image-20230424212552398">
<h2 id="循环程序设计6-1">循环程序设计6-1</h2>
<p>显示HelloWorld</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    a1 db 'Hello world!'</span><br><span class="line">    a2 db 0</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov dh,5; 第5行</span><br><span class="line">    mov dl,16; 第16列</span><br><span class="line">    mov bl,4; 颜色属性</span><br><span class="line">    mov si,0;</span><br><span class="line">show_str:</span><br><span class="line">    mov ax,0b800h; 显存的首地址</span><br><span class="line">    mov es,ax;</span><br><span class="line">    mov ax,160; 行号*160</span><br><span class="line">    mul dh; </span><br><span class="line">    mov di,ax;</span><br><span class="line">    sal dl,1; 每个元素占2个字节</span><br><span class="line">    mov dh,0;</span><br><span class="line">    add di,ax;</span><br><span class="line">    mov cx,a2-a1; 字符串长度（循环次数）</span><br><span class="line">let1:</span><br><span class="line">    mov al,[si];</span><br><span class="line">    mov es:[di],al;</span><br><span class="line">    mov byte ptr es:[di+1],bl;</span><br><span class="line">    inc si;</span><br><span class="line">    inc bl;</span><br><span class="line">    add di,2;</span><br><span class="line">    loop let1;</span><br><span class="line">    </span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604175616628.png" class="" title="image-20230604175616628">
<h2 id="循环程序设计6-2">循环程序设计6-2</h2>
<p>串传送movsb/movsw</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    strg1 db '1234567890'</span><br><span class="line">data ends</span><br><span class="line">extra segment</span><br><span class="line">    strg2 db 10 dup(?)</span><br><span class="line">code segment</span><br><span class="line">    assume cs: code, ds: data, es: extra</span><br><span class="line">start:</span><br><span class="line">    mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov ax, extra</span><br><span class="line">    mov es, ax</span><br><span class="line">    lea si, strg1; 获取有效地址</span><br><span class="line">    lea di, strg2; 获取有效地址</span><br><span class="line">    cld ;方向标志位DF=0，si和di自增；当DF-1时，两者自减</span><br><span class="line">    mov cx, 10; 循环次数</span><br><span class="line">    rep movsb</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h2 id="循环程序设计6-3">循环程序设计6-3</h2>
<p>串比较cmpsb/cmpsw</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    str1 db 'student'</span><br><span class="line">    sign db ?</span><br><span class="line">    str2 db 'studEnt'</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">start:</span><br><span class="line">    mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    lea si, str1</span><br><span class="line">    lea di, str2</span><br><span class="line">    cld</span><br><span class="line">    mov cx, sign - str1</span><br><span class="line">    repe cmpsb</span><br><span class="line">    je eql </span><br><span class="line">    mov dl, 'N'</span><br><span class="line">    jmp out1</span><br><span class="line">eql:</span><br><span class="line">    mov dl, 'Y'</span><br><span class="line">out1:</span><br><span class="line">    mov ah, 2</span><br><span class="line">    int 21h</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604181038081.png" class="" title="image-20230604181038081">
<h2 id="循环程序设计6-4">循环程序设计6-4</h2>
<p>串扫描scasb/scasw</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">extra segment</span><br><span class="line">    value dw 1, 2, 0, 3, 5, -1, 10</span><br><span class="line">    addr dw ?</span><br><span class="line">extra ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs: code, es: extra</span><br><span class="line">start:</span><br><span class="line">    mov ax, extra</span><br><span class="line">    mov es, ax</span><br><span class="line">    mov al, -1</span><br><span class="line">    lea di, value</span><br><span class="line">    cld</span><br><span class="line">    mov cx, addr - value</span><br><span class="line">    shr cx, 1; 数组长度</span><br><span class="line">    repne scasw; rep if not equal</span><br><span class="line">    sub di, 2</span><br><span class="line">    mov addr, di</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604180448734.png" class="" title="image-20230604180448734">
<h2 id="循环程序设计6-5">循环程序设计6-5</h2>
<p>双重循环，冒泡排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    part dw 4, 5, 2, 3, 1</span><br><span class="line">    sign dw ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">start:</span><br><span class="line">    mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov cx, sign - part</span><br><span class="line">    shr cx, 1</span><br><span class="line">    dec cx</span><br><span class="line">externalLoop:</span><br><span class="line">    push cx</span><br><span class="line">    mov bx, 0</span><br><span class="line">internalLoop:</span><br><span class="line">    mov ax, part[bx]</span><br><span class="line">    cmp ax, part[bx + 2]</span><br><span class="line">    jle next</span><br><span class="line">    xchg ax, part[bx + 2]</span><br><span class="line">    mov part[bx], ax</span><br><span class="line">next:</span><br><span class="line">    add bx, 2</span><br><span class="line">    loop internalLoop</span><br><span class="line">    pop cx</span><br><span class="line">    loop externalLoop</span><br><span class="line">out1:</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604181911443.png" class="" title="image-20230604181911443">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604182132146.png" class="" title="image-20230604182132146">
<h2 id="循环程序设计6-6">循环程序设计6-6</h2>
<p>两个大数相加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x db 34h, 56h, 22h, 33h, 44h, 11h, 88h, 54h</span><br><span class="line">    y db 31h, 52h, 64h, 83h, 47h, 75h, 99h, 34h</span><br><span class="line">    n equ $-y</span><br><span class="line">    z db n dup(?)</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">start:</span><br><span class="line">    mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov bx, 0</span><br><span class="line">    mov cx, n</span><br><span class="line">    clc; 进位标志清零</span><br><span class="line">let1:</span><br><span class="line">    mov al, x[bx]</span><br><span class="line">    adc al, y[bx]</span><br><span class="line">    mov z[bx], al</span><br><span class="line">    inc bx</span><br><span class="line">    loop let1</span><br><span class="line">out1:</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604201237607.png" class="" title="image-20230604201237607">
<h2 id="循环程序设计6-7">循环程序设计6-7</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x db 12, 4, 55, 32, 26</span><br><span class="line">    max db 0</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">start:</span><br><span class="line">    mov ax, data</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov cx, max - x; 数组长度</span><br><span class="line">    mov bx, 0; 索引</span><br><span class="line">let1:</span><br><span class="line">    mov al, x[bx]</span><br><span class="line">    cmp al, max</span><br><span class="line">    jle let2</span><br><span class="line">    mov max, al</span><br><span class="line">let2:</span><br><span class="line">    inc bx</span><br><span class="line">    loop let1</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604202123660.png" class="" title="image-20230604202123660">
<h2 id="循环程序设计6-8">循环程序设计6-8</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604203302917.png" class="" title="image-20230604203302917">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230604203802897.png" class="" title="image-20230604203802897">
<h2 id="循环程序设计6-6-1">循环程序设计6-6</h2>
<h2 id="循环程序设计6-6-2">循环程序设计6-6</h2>
<h2 id="作业6-14">作业6-14</h2>
<p>源串STRG1和目的串STRG2分别放在数据段和附加段中，请写出含有各种段定义的程序段，完成STRG1传送到STRG2的功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    strg1 db 'Hello World!$'</span><br><span class="line">data ends</span><br><span class="line">extra segment</span><br><span class="line">    strg2 db 20 dup(0)</span><br><span class="line">extra ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data,es:extra</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov ax,extra;</span><br><span class="line">    mov es,ax;</span><br><span class="line">    mov si,offset strg1;</span><br><span class="line">    mov di,offset strg2;</span><br><span class="line">    cld;</span><br><span class="line">    mov cx,20;</span><br><span class="line">    rep movsb;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230429142604561.png" class="" title="image-20230429142604561">
<h2 id="作业6-16">作业6-16</h2>
<p>编写程序，查找catt表中的字符@，找到后将sign单元置1，否则将sign单元置0。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    catt db 'abcdefg@$'</span><br><span class="line">    sign db ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov ax,'@';</span><br><span class="line">    mov di,offset catt;</span><br><span class="line">    cld;</span><br><span class="line">    mov cx,sign-catt;</span><br><span class="line">    repnz scasb;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230429143030420.png" class="" title="image-20230429143030420">
<h2 id="作业6-17">作业6-17</h2>
<p>编写程序段，在长度为N的字数组value中统计负数的个数并保存到ax中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    value dw -5,-4,-3,-2,-1,0,1,2,3,4</span><br><span class="line">    N dw 10</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov ax,0; ax用于存储负数的数量</span><br><span class="line">    mov cx,N;</span><br><span class="line">    mov di,0;</span><br><span class="line">let0:</span><br><span class="line">    mov bx,value[di];</span><br><span class="line">    cmp bx,0;</span><br><span class="line">    jge let1;</span><br><span class="line">    inc ax;</span><br><span class="line">let1:</span><br><span class="line">    add di,2;</span><br><span class="line">    loop let0;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230504124033305.png" class="" title="image-20230504124033305">
<h2 id="作业6-20">作业6-20</h2>
<p>编写程序，在found字数组中找出最小数存入min单元。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    found dw 12,4,55,32,26</span><br><span class="line">    min dw 500;</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov ax,min-found;</span><br><span class="line">    mov bx,2;</span><br><span class="line">    div bx;</span><br><span class="line">    mov cx,ax; </span><br><span class="line">    mov bx,0;</span><br><span class="line">let1:</span><br><span class="line">    mov ax,found[bx];</span><br><span class="line">    cmp ax,min;</span><br><span class="line">    jge let2;</span><br><span class="line">    mov min,ax;</span><br><span class="line">let2:</span><br><span class="line">    add bx,2;</span><br><span class="line">    loop let1;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230504120922955.png" class="" title="image-20230504120922955">
<h2 id="作业6-22">作业6-22</h2>
<p>某班级30名学生，编程将全班成绩按升序排序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    grade db 100,100,99,98,97</span><br><span class="line">          db 96,95,94,93,92</span><br><span class="line">          db 91,90,89,88,87</span><br><span class="line">          db 86,85,84,83,82</span><br><span class="line">          db 81,80,79,78,77</span><br><span class="line">          db 76,75,74,73,72</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov cx,30</span><br><span class="line">loop1:</span><br><span class="line">    push cx;</span><br><span class="line">    mov bx,0;</span><br><span class="line">loop2:</span><br><span class="line">    mov al,grade[bx];</span><br><span class="line">    cmp al,grade[bx+1];</span><br><span class="line">    jle next;</span><br><span class="line">    xchg al,grade[bx+1];</span><br><span class="line">    mov grade[bx],al;</span><br><span class="line">next:</span><br><span class="line">    inc bx;</span><br><span class="line">    loop loop2;</span><br><span class="line">    pop cx;</span><br><span class="line">    loop loop1;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230504121520181.png" class="" title="image-20230504121520181">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230504121700618.png" class="" title="image-20230504121700618">
<h2 id="子程序设计7-1">子程序设计7-1</h2>
<p>多次输入一个65535以内的十进制数，并以十六进制数的形式显示出来。程序按ESC键接受。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x dw 0</span><br><span class="line">    mess1 db 0dh, 0ah, 'input dec = $'</span><br><span class="line">    mess2 db 0dh, 0ah, 'out hex = $'</span><br><span class="line">    hex db '0123456789ABCDEF'</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">; 主程序</span><br><span class="line">let0:</span><br><span class="line">    mov x, 0;</span><br><span class="line">    mov dx, offset mess1; 显示提示1</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    call let1; 调用子程序1</span><br><span class="line">    call let2; 调用子程序2</span><br><span class="line">    jmp let0;</span><br><span class="line">; 子程序1：键盘输入、形成十进制数x</span><br><span class="line">let1:</span><br><span class="line">    mov ah, 1; 键盘输入十进制数</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al, 27; 判断是否为ESC键</span><br><span class="line">    jz out1; 如果是，则直接退出程序</span><br><span class="line">    sub al, 30h; 去掉ASCII码</span><br><span class="line">    jl exit; 如果得到的数字小于0，说明输入的不是一个数字</span><br><span class="line">    cmp al, 9; </span><br><span class="line">    jg exit; 如果得到的数字大于9，说明输入的也不是一个数字</span><br><span class="line">    mov ah, 0;</span><br><span class="line">    xchg ax, x; 形成十进制数</span><br><span class="line">    mov cx, 10;</span><br><span class="line">    mul cx;</span><br><span class="line">    add x, ax; x*10+x'</span><br><span class="line">    jmp let1;</span><br><span class="line">exit:</span><br><span class="line">    ret; 返回主程序</span><br><span class="line">; 子程序2：查表，显示十六进制</span><br><span class="line">let2:</span><br><span class="line">    mov dx, offset mess2; 显示提示2</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov bx, x; 将x赋值给bx，因为ax马上要用到</span><br><span class="line">    mov ch, 4;</span><br><span class="line">    mov cl, 4; 将bx中的二进制数循环左移4位</span><br><span class="line">rept1:</span><br><span class="line">    rol bx, cl;</span><br><span class="line">    mov ax, bx;</span><br><span class="line">    and ax, 000fh; 保留最低4位 0000 0000 0000 1111</span><br><span class="line">    mov si, ax;</span><br><span class="line">    mov dl, hex[si]; 查表显示十六进制数</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    dec ch; 显示下一位</span><br><span class="line">    jnz rept1;</span><br><span class="line">    ret; 返回主程序</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230509090336131.png" class="" title="image-20230509090336131">
<h2 id="子程序设计">子程序设计</h2>
<p>从键盘键入一个多位十进制数X，回车技术输入。主程序和子程序都可以对其读写。利用寄存器传参、存储单元传参和堆栈传参。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    infor1 db 0ah, 0dh, 'x = $'</span><br><span class="line">    infor2 db 0ah, 0dh, 'y = $'</span><br><span class="line">    x db 20 dup(?)</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">; 主程序</span><br><span class="line">main proc far</span><br><span class="line">    mov x, 0;</span><br><span class="line">    mov dx, offset infor1; 显示提示1</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov bx, 0; 传参寄存器bx清0</span><br><span class="line">    call input;</span><br><span class="line">    mov cx, bx; 保存x的位数</span><br><span class="line">    mov ax, 0;</span><br><span class="line">    mov bx, 0;</span><br><span class="line">    call addByBit;</span><br><span class="line">    mov dx, offset infor2; 显示提示2</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    call display;</span><br><span class="line">    jmp main;</span><br><span class="line">out1:</span><br><span class="line">    mov ah, 4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">main endp</span><br><span class="line">; 子程序1：键盘输入、保存</span><br><span class="line">input proc near</span><br><span class="line">    mov ah, 1; 键盘输入十进制数</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al, 0dh; 判断是否为Enter</span><br><span class="line">    jz exit;</span><br><span class="line">    cmp al, '0'; 判断是否为其他非法字符，如果是则直接退出</span><br><span class="line">    jl out1;</span><br><span class="line">    cmp al, '9';</span><br><span class="line">    jg out1;</span><br><span class="line">    mov x[bx], al; 保存键入的数码</span><br><span class="line">    inc bx; bx = 数码个数</span><br><span class="line">    jmp input;</span><br><span class="line">exit:</span><br><span class="line">    cmp bx, 0; 第一键就是回车</span><br><span class="line">    jz out1; 如果是，则直接退出程序</span><br><span class="line">    ret</span><br><span class="line">input endp</span><br><span class="line">; 子程序2：按位相加</span><br><span class="line">addByBit proc near</span><br><span class="line">    mov ah, x[bx]; 取出输入的数码</span><br><span class="line">    and ah, 0fh;</span><br><span class="line">    add al, ah; 按位相加</span><br><span class="line">    inc bx;</span><br><span class="line">    loop addByBit; 循环累加</span><br><span class="line">    mov ah, 0;</span><br><span class="line">    mov bx, ax; 相加结果-&gt;bx传参寄存器</span><br><span class="line">    ret; 返回主程序</span><br><span class="line">addByBit endp</span><br><span class="line">; 子程序3：将bx中的数显示为十进制数</span><br><span class="line">display proc near</span><br><span class="line">    mov ax, bx; bx为传参寄存器</span><br><span class="line">    mov cx, 0;</span><br><span class="line">    mov bx, 10;</span><br><span class="line">let1:       ; 将ax变为十进制数</span><br><span class="line">    mov dx, 0; 字除法高字清0</span><br><span class="line">    inc cx; 统计余数个数</span><br><span class="line">    div bx; 除以10，商在ax，余数在dx</span><br><span class="line">    push dx; 保存余数</span><br><span class="line">    cmp ax, 0;</span><br><span class="line">    jnz let1;</span><br><span class="line">let2:       ; 循环显示余数，循环次数在cx中</span><br><span class="line">    pop ax; 将余数弹入ax</span><br><span class="line">    add ax, 0030h; 调整为ASCII码</span><br><span class="line">    mov dl, al; 2号功能显示</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    loop let2;</span><br><span class="line">    ret;</span><br><span class="line">display endp</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230509095303011.png" class="" title="image-20230509095303011">
<h1 id="实验">实验</h1>
<h2 id="实验一">实验一</h2>
<p>Debug命令的使用</p>
<p>（1）查看修改通用寄存器和标志寄存器中的值。</p>
<p>使用R命令查看和修改8086中的寄存器。将AX值修改为2021H，BX值修改为“实验课上课日期H”，CX值修改为“当前时间H”,DX值修改为“学号后4位H”。</p>
<p>例如学号为20199428的学生上课4月6号8点25分上课。最终AX=2021,BX=0406,CX=0825,DX=9428。</p>
<p>将修改之后的通用寄存器的值进行截图，并且解释标志寄存器中的内容含义。标志寄存器中的值参照下表。</p>
<hr>
<figure>
<img src="file:///C:/Users/Keikei/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327151000126.png" class="" title="image-20230327151000126">
<p><strong>标志寄存器的值为 NV UP EI PL NZ NA PO
NC，说明标志寄存器的溢出标志为0，方向标志为0，中断标志为1，符号标志为0，零标志为0，辅助进位标志为0，奇偶标志为0，进位标志为0。</strong></p>
<hr>
<p>（2）将自己的名字全拼，学号用E命令显示在dos窗口中间位置（不一定要正中间，偏中间位置就可以了）。</p>
<p>例如：20199428 邓帆
，将20199428DF显示在屏幕中间。将此图进行截图。</p>
<p>DOS窗口是80*25彩色字符模式，此模式下，显示器每屏可以显示25行（0-24行），每行显示80个字符（0-79）。显示器屏幕上显示的内容存储在显示缓冲区中。显示缓冲区对应的内存地址空间B8000H
~
BFFFFH共32Kbyte空间。显示缓冲区分为8页（屏），每页（屏）4KB。第0页（屏）地址即我们看到的当前屏幕，对应的显示缓冲区为
B8000H~ B8F9FH。其中：偏移000~09F 对应屏幕第一行；偏移0A0~13F
对应屏幕第二行；偏移140~1DF
对应屏幕第三行；（每行首地址相差0A0H，160个字节）。</p>
<p>屏幕上显示的每个字符在显示缓冲区中占用两个字节。第一个字节为字符的ASCII码。第二个字节为显示属性字，决定字符的色彩属性。色彩属性为256种综合属性效果（前景色、背景色、闪烁、高亮等）。含义如下，根据表格可知，色彩属性字节为9C，显示的效果为闪烁蓝底红字。</p>
<table>
<thead>
<tr class="header">
<th>7</th>
<th>6</th>
<th>5</th>
<th>4</th>
<th>3</th>
<th>2</th>
<th>1</th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BL</td>
<td>R</td>
<td>G</td>
<td>B</td>
<td>I</td>
<td>R</td>
<td>G</td>
<td>B</td>
</tr>
<tr class="even">
<td>闪烁</td>
<td>背景色</td>
<td>高亮</td>
<td>前景</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327154130250.png" class="" title="image-20230327154130250">
<p><strong>如图所示，202112143LiJunqi已显示在屏幕正中间。</strong></p>
<hr>
<p>（3）使用D命令查看自己计算机的生产日期。在内存的FFFF0-FFFFFh中。对结果进行截图。</p>
<hr>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327154259561.png" class="" title="image-20230327154259561">
<p><strong>如图所示，计算机的生产日期为1992年1月1日。</strong></p>
<hr>
<p>（4）反汇编当前默认地址空间中的指令。对结果进行截图。</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327154321285.png" class="" title="image-20230327154321285">
<p><strong>如图所示，debug
-u指令能够呈现当前默认地址空间中的反汇编指令。</strong></p>
<p>（5）向当前地址空间中写指令完成书P47页中的内容。对写入结果进行截图。</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327144607303.png" class="" title="image-20230327144607303">
<ol type="1">
<li>两个操作数相减运算，结果放在数据段的16号单元</li>
</ol>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327174754211.png" class="" title="image-20230327174754211">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327174810343.png" class="" title="image-20230327174810343">
<p><strong>如图所示，寄存器AX与BX的值相减得到的值为FFF8，第16号单元即0010H号单元。因此通过<code>mov [0010],ax</code>指令可以将AX中的值存储至代码段的16号单元中。</strong></p>
<ol start="2" type="1">
<li>两个操作数相加运算，结果放在附加段的0020H号单元</li>
</ol>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327173055057.png" class="" title="image-20230327173055057">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327173126192.png" class="" title="image-20230327173126192">
<p><strong>如图所示，使用段超越指令<code>es:</code>可实现在附加段中保存运算结果。</strong></p>
<ol start="3" type="1">
<li>将AX寄存器中的1234H写人数据段的2号单元，读出3号单元的12H传送给BL寄存器</li>
</ol>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230327173805994.png" class="" title="image-20230327173805994">
<p><strong>如图所示，使用<code>word ptr</code>指令定义目的操作数为字单元，随后取出3号单元的值。</strong></p>
<hr>
<h2 id="实验二">实验二</h2>
<ol start="2" type="1">
<li>Dos功能调用。输入一个“Hello world!” 输出一个“hello world!”</li>
</ol>
<p>设计思路：</p>
<p>（1）定义输入字符串的缓冲区。</p>
<p>（2）10号功能输入字符串。</p>
<p>（3）将字符串缓冲区中的$。</p>
<p>（4）将9号功能ds:dx指向10号功能的字符串缓冲区，进行显示。</p>
<p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    buffer db 20,?,20 dup('$') </span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data</span><br><span class="line">    mov ds,ax</span><br><span class="line">    mov dx,offset buffer</span><br><span class="line">    mov ah,10</span><br><span class="line">    int 21h</span><br><span class="line">    mov bx,0</span><br><span class="line">    mov [bx+buffer],0dh</span><br><span class="line">    inc bx</span><br><span class="line">    mov [bx+buffer],0ah</span><br><span class="line">    lea dx,buffer</span><br><span class="line">    mov ah,9</span><br><span class="line">    int 21h</span><br><span class="line">    mov ah,4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230408105359837.png" class="" title="image-20230408105359837">
<p>如图所示，程序输入的“Hello world!”字符串，原样输出了一个“Hello
world!”字符串。</p>
<p>3.实现Y=2X+3,X是一位十进制数。要求X从键盘输入，在下一行上显示“Y=2X+3=”以及十进制计算结果。</p>
<p>设计思路：</p>
<p>（1）涉及到显示，因为显示只能显示ASCII码，ASCII码=非压缩BCD码+30h.</p>
<p>实验中选用非压缩的BCD码进行运算。</p>
<p>（2）定义相关的提示信息。</p>
<p>（3）用到1，2，9号功能</p>
<p>（4）乘法IMUL,被乘数在AL中，用1号功能可以输入。因为结果肯定有超出9的情况，所以用AAM进行调整。</p>
<p>（5）加法ADD，因为结果肯定有超出9的情况，所以用AAA进行调整。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    infor1 db 'input:','$'</span><br><span class="line">    infor2 db 'y=2*x+3=','$'</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov dx,offset infor1; 输出input</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 输入一个数字</span><br><span class="line">    int 21h;</span><br><span class="line">    sub al,30h; 去掉ASCII码</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,2;</span><br><span class="line">    mul bl; 2*x</span><br><span class="line">    aam;</span><br><span class="line">    mov cl,3;</span><br><span class="line">    add al,cl; 2*x+3</span><br><span class="line">    aaa;</span><br><span class="line">    add ax,3030h;</span><br><span class="line">    mov cx,ax;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    mov dl,0ah; 输出回车</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dx,offset infor2; 输出y=2*x+3=</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    add ax,3030h;</span><br><span class="line">    mov bx,ax;</span><br><span class="line">    mov ah,2; 字符逐个输出</span><br><span class="line">    mov dl,ch;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,cl;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230408105339470.png" class="" title="image-20230408105339470">
<p>如图所示，程序输入3、5、6、9均能输出对应的正确结果。</p>
<h2 id="实验三">实验三</h2>
<ol type="1">
<li>用C语言和汇编语言编写一个二维数组，这个二维数组中存储的是两个班级的学生的成绩。每个班各有5名学生。查找某一个同学的成绩。用直接寻址，寄存器间接寻址，寄存器相对寻址，基址变址寻址，相对基址变址寻址完成查找成绩。二维数组用DW方式定义，如图4.1所示。</li>
</ol>
<hr>
<p>程序代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    score dw 100,98,78,77,76</span><br><span class="line">          dw 88,89,96,89,78</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov ax,ds:[14]; 直接寻址</span><br><span class="line">    </span><br><span class="line">    ; bp,bx,si,di是用于存放地址的寄存器</span><br><span class="line">    mov bx,14;</span><br><span class="line">    mov ax,ds:[bx]; 寄存器间接寻址</span><br><span class="line"></span><br><span class="line">    mov bp,14; bp的用法</span><br><span class="line">    mov ax,ds:[bp]; 寄存器间接寻址</span><br><span class="line"></span><br><span class="line">    mov bx,14;</span><br><span class="line">    mov ax,score[bx]; 寄存器相对寻址</span><br><span class="line"></span><br><span class="line">    mov bp,14; bp的用法</span><br><span class="line">    mov ax,ds:score[bp];寄存器相对寻址</span><br><span class="line"></span><br><span class="line">    mov bx,offset score;</span><br><span class="line">    mov si,14;</span><br><span class="line">    mov ax,ds:[bx][si]; 基址变址寻址</span><br><span class="line"></span><br><span class="line">    mov bp,offset score;</span><br><span class="line">    mov si,14;</span><br><span class="line">    mov ax,ds:[bp][si]; 基址变址寻址</span><br><span class="line"></span><br><span class="line">    ; score[1][2]</span><br><span class="line">    ; bx = 1 * 5 * 2</span><br><span class="line">    ; si = 2 * 2;</span><br><span class="line">    mov bx,10;</span><br><span class="line">    mov si,4;</span><br><span class="line">    mov ax,score[bx][si];</span><br><span class="line">    </span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<p>直接寻址：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410144723589.png" class="" title="image-20230410144723589">
<p>寄存器间接寻址：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410144753064.png" class="" title="image-20230410144753064">
<p>寄存器相对寻址：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410145210452.png" class="" title="image-20230410145210452">
<p>基址变址寻址：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410145414925.png" class="" title="image-20230410145414925">
<p>相对基址变址寻址：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410145353406.png" class="" title="image-20230410145353406">
<hr>
<ol start="2" type="1">
<li>将学生名字按照学号顺序存储在内存中，根据学号将姓名查找出来。姓名定义有两种方式，第一种方式类似于高级语言中的二维字符数组，第二种方式类似于高级语言中的一维字符串指针数组。如图4.2所示。</li>
</ol>
<figure>
<img src="file:///C:/Users/Keikei/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>图4.2 名字存储方式示意图</p>
<hr>
<h3 id="二位字符数组">二位字符数组</h3>
<p>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    info db 'please input student number(letter than 5): $'</span><br><span class="line">    stuName db 0dh,0ah,'nobody     $'</span><br><span class="line">            db 0dh,0ah,'XiaoJianhui$'</span><br><span class="line">            db 0dh,0ah,'ChenZirui  $'</span><br><span class="line">            db 0dh,0ah,'HuangSihan $'</span><br><span class="line">            db 0dh,0ah,'ChenZishi  $'</span><br><span class="line">            db 0dh,0ah,'LiQiuping  $'</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov dx,offset info;</span><br><span class="line">    mov ah,9; 输出提示信息</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 输入一个数字</span><br><span class="line">    int 21h;</span><br><span class="line">    sub al,30h; 将ASCII码变为数字</span><br><span class="line">    mov cl,14;</span><br><span class="line">    mul cl; ax = al * cl</span><br><span class="line">    mov dx,offset stuName;</span><br><span class="line">    add dx,ax;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<p>运行截图：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410152011041.png" class="" title="image-20230410152011041">
<h3 id="一维字符串指针数组">一维字符串指针数组</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    info db 'please input student number(letter than 5): $'</span><br><span class="line">    table dw stu0,stu1,stu2,stu3,stu4,stu5</span><br><span class="line">    stu0 db 0dh,0ah,'nobody$'</span><br><span class="line">    stu1 db 0dh,0ah,'XiaoJianhui$'</span><br><span class="line">    stu2 db 0dh,0ah,'ChenZirui$'</span><br><span class="line">    stu3 db 0dh,0ah,'HuangSihan$'</span><br><span class="line">    stu4 db 0dh,0ah,'ChenZishi$'</span><br><span class="line">    stu5 db 0dh,0ah,'LiQiuping$'</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov dx,offset info;</span><br><span class="line">    mov ah,9; 输出提示信息</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 输入一个数字</span><br><span class="line">    int 21h;</span><br><span class="line">    sub al,30h; 将ASCII码变为数字</span><br><span class="line">    mov cl,2;</span><br><span class="line">    mul cl; ax = al * cl</span><br><span class="line">    mov bx,ax;</span><br><span class="line">    mov dx,table[bx];</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<p>运行截图：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410153431553.png" class="" title="image-20230410153431553">
<p>学号在内存中的存储</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230410155536270.png" class="" title="image-20230410155536270">
<p>学号的真正意义是名字字符串相对于数据段的偏移地址</p>
<hr>
<h2 id="实验四">实验四</h2>
<p>1.输出提示信息“DEC=”，输入十进制数0-255。输出提示信息“HEX=”，用取余数的方法将刚才输入的0-255，显示成相应的十六进制数。</p>
<p>实验报告中给出设计思路，画出流程图（可以分两个来画，输入一个，显示一个），根据流程图写出代码。并对实验结果截图。</p>
<h3 id="设计思路">设计思路</h3>
<ol type="1">
<li>输出提示信息“DEC=”；</li>
<li>用DOS的1号功能输入0~255，将输入的字符保存在内存的字符缓冲区中，以回车作为本次输入结束的标志。退出程序使用ESC（27/1BH）；</li>
<li>将字符缓冲区的字符转变为数字，判断到底输入了几位数。根据输入的位数进行转换；</li>
<li>输出提示信息“HEX=”；</li>
<li>用除余法进行显示。将第3步中生成的数字除以16，先显示商，再显示余数。</li>
</ol>
<h3 id="流程图">流程图</h3>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422214455189.png" class="" title="image-20230422214455189">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422214539097.png" class="" title="image-20230422214539097">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422214609853.png" class="" title="image-20230422214609853">
<h3 id="代码">代码</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    info1 db 0ah,0dh,"DEX=$";</span><br><span class="line">    info2 db "HEX=$";</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">let:</span><br><span class="line">    mov dx,offset info1;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov si,0; 用于写入缓冲区，记录数位个数</span><br><span class="line">let0:</span><br><span class="line">    mov ah,1;</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al,27; esc</span><br><span class="line">    je let5;</span><br><span class="line">    cmp al,0dh; enter</span><br><span class="line">    je let1;</span><br><span class="line">    sub al,30h; 将数字存入缓冲区</span><br><span class="line">    mov x[si],al;</span><br><span class="line">    inc si; 位数++</span><br><span class="line">    jmp let0;</span><br><span class="line">let1:</span><br><span class="line">    mov dx,offset info2;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov bx,0;</span><br><span class="line">    mov di,0;</span><br><span class="line">    cmp si,1; 判断是不是1位数</span><br><span class="line">    je let2;</span><br><span class="line">    cmp si,3; 判断是不是3位数</span><br><span class="line">    jne let3;</span><br><span class="line">    mov al,x[di]; 三位数</span><br><span class="line">    mov cl,100;</span><br><span class="line">    mul cl;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    inc di;</span><br><span class="line">let3:</span><br><span class="line">    mov al,x[di]; 两位数</span><br><span class="line">    mov cl,10;</span><br><span class="line">    mul cl;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    inc di;</span><br><span class="line">let2:</span><br><span class="line">    mov al,x[di]; 一位数</span><br><span class="line">    mov ah,0;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    mov ax,bx;</span><br><span class="line">    mov cl,16;</span><br><span class="line">    div cl;</span><br><span class="line">    cmp al,9;</span><br><span class="line">    jbe let6;</span><br><span class="line">    add al,7;</span><br><span class="line">let6:</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov dl,al;</span><br><span class="line">    push ax;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    pop ax;</span><br><span class="line">    cmp ah,9;</span><br><span class="line">    jbe let7;</span><br><span class="line">    add ah,7;</span><br><span class="line">let7:</span><br><span class="line">    add ah,30h;</span><br><span class="line">    mov dl,ah;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    jmp let;</span><br><span class="line">let5:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h3 id="运行截图">运行截图</h3>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422180827004.png" class="" title="image-20230422180827004">
<p>2.模仿课本119页5.5.3示例5-9，将以前自己写的程序整理成菜单程序（至少选择三个程序）。table表里面保存的是跳转到程序的标号。与我们第三次课中通过学号查找名字时，表里面存姓名标号是一个概念。给出代码和实验结果截图即可。</p>
<p>设计功能如下：</p>
<ul>
<li>功能1：将字符串中的小写字母转为大写；</li>
<li>功能2：计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.91ex" role="img" focusable="false" viewBox="0 -833.2 1008.6 844.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></svg></mjx-container></span>；</li>
<li>功能3：计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="12.837ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 5674 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1823.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mn" transform="translate(2101.6,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g><g data-mml-node="mi" transform="translate(2601.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(3395.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(4396,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(500,0)"></path></g><g data-mml-node="mo" transform="translate(5396,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container></span>；</li>
<li>功能4：退出程序。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    table dw prog4,prog1,prog2,prog3,prog4;</span><br><span class="line">    mess0 db 0ah,0dh,'1.upper string'</span><br><span class="line">          db 0ah,0dh,'2.calculate X^3'</span><br><span class="line">          db 0ah,0dh,'3.calculate Y=|5X-18|'</span><br><span class="line">          db 0ah,0dh,'4.exit'</span><br><span class="line">          db 0ah,0dh,'select: $'</span><br><span class="line">    mess1 db 0ah,0dh,'input: $'</span><br><span class="line">    mess2 db 0ah,0dh,'output: $'</span><br><span class="line">    buff db 10,?,10 dup(?)</span><br><span class="line">    x db 3 dup(?)</span><br><span class="line">    x2 db ?</span><br><span class="line">    y dw ?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume ds:data,cs:code</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">let0:</span><br><span class="line">    mov dx,offset mess0; 显示菜单</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1; 输入选择</span><br><span class="line">    int 21h;</span><br><span class="line">    and al,03h;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    shl ax,1;</span><br><span class="line">    mov bx,ax;</span><br><span class="line">    jmp table[bx];</span><br><span class="line">prog1:</span><br><span class="line">    ; 5-4.asm 程序部分</span><br><span class="line">    ; 输入英文单词，将小写字母转换为大写</span><br><span class="line">    mov dx,offset mess1; 显示提示1</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dx,offset buff; 输入字符串</span><br><span class="line">    mov ah,10;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov cl,buff+1; 实际输入的字母个数</span><br><span class="line">    mov bx,2; 第一个字母的地址</span><br><span class="line">    mov dx,offset mess2; 显示提示2</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">let1:</span><br><span class="line">    and buff[bx],0dfh; 小写字母变为大写</span><br><span class="line">    mov dl,buff[bx]; 循环显示每个字母</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    inc bx;</span><br><span class="line">    dec cl;</span><br><span class="line">    jnz let1;</span><br><span class="line">    jmp let0;</span><br><span class="line">prog2:</span><br><span class="line">    ; 5-5.asm 程序部分</span><br><span class="line">    ; 计算0~9立方值</span><br><span class="line">    ;显示mess1</span><br><span class="line">    mov dx,offset mess1; </span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    ;输入0~9</span><br><span class="line">    mov ah,1; </span><br><span class="line">    int 21h;</span><br><span class="line">    ;输入判断</span><br><span class="line">    cmp al,27; 判断是不是esc，是则退出</span><br><span class="line">    jz let0;</span><br><span class="line">    cmp al,'0'; 判断输入的是不是个数字</span><br><span class="line">    jb let0;</span><br><span class="line">    cmp al,'9';</span><br><span class="line">    ja let0;</span><br><span class="line">    </span><br><span class="line">    and al,0fh; 去掉ASCII码</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov bl,al; 求m³，结果存在al中</span><br><span class="line">    mul bl;</span><br><span class="line">    mul bl; </span><br><span class="line">    mov bl,10; 立方变为10进制</span><br><span class="line">    div bl; ah存商，al存余数</span><br><span class="line">    add ah,30h; </span><br><span class="line">    mov x,ah; 先用x保存个位</span><br><span class="line">    </span><br><span class="line">    cmp al,10; 判断余数是不是大于10；</span><br><span class="line">    jb let2;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    div bl;</span><br><span class="line">    add ah,30h;</span><br><span class="line">    mov x+1,ah;</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov x+2,al;</span><br><span class="line">    jmp let3;</span><br><span class="line">let2:</span><br><span class="line">    add al,30h;</span><br><span class="line">    mov x+1,al;</span><br><span class="line">let3:</span><br><span class="line">    mov ax,0;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    mov dx,offset mess2; 显示mess2</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">    mov dl,x+2; 显示立方</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,x+1;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl,x;</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">    mov word ptr x,0; 单元清零，初始化</span><br><span class="line">    mov word ptr x+2,0;</span><br><span class="line">    jmp let0;</span><br><span class="line"></span><br><span class="line">prog3:</span><br><span class="line">    ; 计算Y=|5x-18|</span><br><span class="line">    mov dx,offset mess1;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ah,1;</span><br><span class="line">    int 21h;</span><br><span class="line">    sub al,30h;</span><br><span class="line">    mov bl,5;</span><br><span class="line">    imul bl;</span><br><span class="line">    sub ax,18;</span><br><span class="line">    jns let4;</span><br><span class="line">    neg ax;</span><br><span class="line">let4:</span><br><span class="line">    mov y,ax;</span><br><span class="line">    mov cx,0;</span><br><span class="line">    mov bx,10;</span><br><span class="line">let5:</span><br><span class="line">    mov dx,0;</span><br><span class="line">    inc cx;</span><br><span class="line">    idiv bx;</span><br><span class="line">    push dx;</span><br><span class="line">    cmp ax,0;</span><br><span class="line">    jnz let5;</span><br><span class="line">    mov dx,offset mess2;</span><br><span class="line">    mov ah,9;</span><br><span class="line">    int 21h</span><br><span class="line">let6:</span><br><span class="line">    pop ax;</span><br><span class="line">    add ax,0030h;</span><br><span class="line">    mov dl,al;</span><br><span class="line">    mov ah,2;</span><br><span class="line">    int 21h;</span><br><span class="line">    dec cx;</span><br><span class="line">    cmp cx,0;</span><br><span class="line">    jnz let6;</span><br><span class="line">    jmp let0;</span><br><span class="line">prog4:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<p>功能1：将字符串中的小写字母转为大写：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422175540816.png" class="" title="image-20230422175540816">
<p>功能2：计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.91ex" role="img" focusable="false" viewBox="0 -833.2 1008.6 844.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></svg></mjx-container></span>：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422175719144.png" class="" title="image-20230422175719144">
<p>功能3：计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="12.837ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 5674 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(767.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(1823.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mn" transform="translate(2101.6,0)"><path data-c="35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></g><g data-mml-node="mi" transform="translate(2601.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(3395.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(4396,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(500,0)"></path></g><g data-mml-node="mo" transform="translate(5396,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g></g></svg></mjx-container></span>：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230422175909433.png" class="" title="image-20230422175909433">
<p>功能4：退出程序：</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230425091925834.png" class="" title="image-20230425091925834">
<h2 id="实验五">实验五</h2>
<ul>
<li>设计方法</li>
<li>流程图</li>
<li>代码</li>
</ul>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424140930786-16825150223351.png" class="" title="image-20230424140930786">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230424141949719-16825150223362.png" class="" title="image-20230424141949719">
<p>1．分别统计3个班级中某科成绩优秀的人数和不及格的人数。
提示：可以看成3×N二维数组。分别用MAX和MIN存放90分以上和60分以下的人数。</p>
<p>2．将上述题目改为用两个数组分别存放每班优秀的成绩和不及格的成绩。</p>
<p>3．分别对两组成绩用冒泡排序按降序排序。</p>
<p>给出设计思路，流程图设计，代码， 结果截图。</p>
<h3 id="设计思路-1"><strong>设计思路</strong></h3>
<p>（1）二维数组存储成绩。基址变址相对寻址去取每一个学生的成绩。</p>
<p>（2）两个一维数组分别存储优秀成绩和不及格成绩。</p>
<p>（3）取出每个班的每个学生的成绩，分别和90，以及60比较。大于等于90对应班级优秀人数加1，将其放在优秀成绩数组中。小于60对应班级的不及格人数加1，将其放在不及格成绩数组中。</p>
<p>（4）对优秀成绩数组和不及格成绩数组进行冒泡排序。</p>
<h3 id="流程图-1"><strong>流程图</strong></h3>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230426204657984.png" class="" title="image-20230426204657984">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230426204731477.png" class="" title="image-20230426204731477">
<h3 id="代码-1"><strong>代码</strong></h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    score db 99,45,44,100,88,23,56,88</span><br><span class="line">          db 100,100,69,67,89,55,99,98</span><br><span class="line">          db 34,54,60,99,89,79,69,59</span><br><span class="line">    max db 24 dup(0); 优秀成绩数组</span><br><span class="line">    min db 24 dup(0); 不合格成绩数组</span><br><span class="line">    classNumber db 0</span><br><span class="line">    studentNumber db 0</span><br><span class="line">    excellentNumber dw 0</span><br><span class="line">    failNumber dw 0</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code,ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax,data;</span><br><span class="line">    mov ds,ax;</span><br><span class="line">    mov di,0;</span><br><span class="line">    mov bp,0;</span><br><span class="line">    mov classNumber,0;</span><br><span class="line">outs:</span><br><span class="line">    cmp classNumber,3; 一共有三个班</span><br><span class="line">    jae out0;</span><br><span class="line">    mov studentNumber,0;</span><br><span class="line">ins:</span><br><span class="line">    cmp studentNumber,8; 每个班有8名学生</span><br><span class="line">    jae outs1;</span><br><span class="line">    mov al,classNumber;</span><br><span class="line">    mov cl,8;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov bx,ax;</span><br><span class="line">    mov al,studentNumber;</span><br><span class="line">    mov ah,0;</span><br><span class="line">    mov si,ax;</span><br><span class="line">    cmp score[bx][si],90;</span><br><span class="line">    jb flunk;</span><br><span class="line">    mov al,score[bx][si];</span><br><span class="line">    mov max[di],al;</span><br><span class="line">    inc di;</span><br><span class="line">    jmp ins1;</span><br><span class="line">flunk:</span><br><span class="line">    cmp score[bx][si],60;</span><br><span class="line">    jae ins1;</span><br><span class="line">    mov al,score[bx][si];</span><br><span class="line">    mov ds:min[bp],al;</span><br><span class="line">    inc bp;</span><br><span class="line">ins1:</span><br><span class="line">    inc studentNumber;</span><br><span class="line">    jmp ins;</span><br><span class="line">outs1:</span><br><span class="line">    inc classNumber;</span><br><span class="line">    jmp outs;</span><br><span class="line">out0:</span><br><span class="line">    mov excellentNumber,di; di的值就是优秀学生的数量</span><br><span class="line">    mov failNumber,bp; bp的值就是不合格学生的数量</span><br><span class="line">prog1:</span><br><span class="line">    ; max冒泡排序</span><br><span class="line">    mov cx,excellentNumber;</span><br><span class="line">L1:</span><br><span class="line">	mov si,0;		</span><br><span class="line">	cmp cx,0;</span><br><span class="line">	je prog2;</span><br><span class="line">	dec cx;</span><br><span class="line">	mov bx,cx;</span><br><span class="line">L2:</span><br><span class="line">	mov al,max[si];</span><br><span class="line">	cmp al,max[si+1];</span><br><span class="line">	jle L3;</span><br><span class="line">	xchg al,max[si+1];</span><br><span class="line">	xchg al,max[si];</span><br><span class="line">L3:</span><br><span class="line">	cmp si,bx;</span><br><span class="line">	je L1;</span><br><span class="line">	inc si;	</span><br><span class="line">	jmp L2;   </span><br><span class="line"></span><br><span class="line">prog2:</span><br><span class="line">    ; min冒泡排序</span><br><span class="line">    mov cx,failNumber;</span><br><span class="line">L4:</span><br><span class="line">	mov si,0;</span><br><span class="line">	cmp cx,0;</span><br><span class="line">	je out1;</span><br><span class="line">	dec CX;	</span><br><span class="line">	mov bx,cx;</span><br><span class="line">L5:</span><br><span class="line">	mov al,min[si];	</span><br><span class="line">	cmp al,min[si+1];</span><br><span class="line">	jle L6;		</span><br><span class="line">	xchg al,min[si+1];</span><br><span class="line">	xchg al,min[si];</span><br><span class="line">L6:</span><br><span class="line">	cmp si,bx;</span><br><span class="line">	je L4;</span><br><span class="line">	inc si;</span><br><span class="line">	jmp L5;</span><br><span class="line">out1:</span><br><span class="line">    mov ah,4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h3 id="运行截图-1"><strong>运行截图</strong></h3>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230425090646815-16825150223363.png" class="" title="image-20230425090646815">
<p>排序后</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230425090852736.png" class="" title="image-20230425090852736">
<h2 id="实验六">实验六</h2>
<p>用预习要求中的1-4点中的代码，完成课本第7章P160-p165页的示例7-6，从键盘输入学生姓名和成绩，按成绩降序或者升序排列，并显示排序结果。</p>
<h3 id="设计思路-2">设计思路</h3>
<p>阶段一分析设计思路：（和以往的实验进行比对。）</p>
<p>（1）从键盘输入姓名。可以根据实验二中的输入一个字符串，并回显这个实验进行更改。</p>
<p>（2）从键盘输入成绩，可以根据实验四将输入的三位十进制数，以16进制数进行显示来做。</p>
<p>（3）将成绩按照降序排序，可以用冒泡排序方法进行修改。</p>
<p>（4）显示成绩，可以将输入的成绩的ASCII码保存起来，之后用来显示。</p>
<p>（5）显示姓名，可以将保存在内存缓冲区中的姓名拿来进行显示。</p>
<p>阶段二分析设计思路：（细化）</p>
<p>（1）从键盘输入多个姓名，这些姓名需要保存起来，并且在需要显示的时候查找出来。那么这个缓冲区如何来定义呢。定义成不等长的在输入和查找的时候都不好查找。实验中使用等长方式进行查找。假设每个名字的长度控制在13个字符。假设允许输入5个名字，那么定义方式是
5 dup(13,?,13 dup(‘<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="40.849ex" height="2.283ex" role="img" focusable="false" viewBox="0 -759 18055.5 1009"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mo" transform="translate(33,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g><g data-mml-node="mo" transform="translate(277.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(666.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1055.5,0)"><g data-mml-node="mo"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">。</text></g></g><g data-mml-node="mi" transform="translate(2055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">注</text></g><g data-mml-node="mi" transform="translate(3055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">意</text></g><g data-mml-node="mi" transform="translate(4055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">观</text></g><g data-mml-node="mi" transform="translate(5055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">察</text></g><g data-mml-node="mi" transform="translate(6055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">这</text></g><g data-mml-node="mi" transform="translate(7055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">个</text></g><g data-mml-node="mi" transform="translate(8055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">数</text></g><g data-mml-node="mi" transform="translate(9055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">据</text></g><g data-mml-node="mi" transform="translate(10055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">区</text></g><g data-mml-node="mi" transform="translate(11055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">的</text></g><g data-mml-node="mi" transform="translate(12055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">定</text></g><g data-mml-node="mi" transform="translate(13055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">义</text></g><g data-mml-node="mi" transform="translate(14055.5,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">，</text></g><g data-mml-node="mi" transform="translate(15055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">这</text></g><g data-mml-node="mi" transform="translate(16055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">里</text></g><g data-mml-node="mi" transform="translate(17055.5,0)"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">以</text></g></g></g></svg></mjx-container></span>符号进行初始化，是因为实验还要考虑输出的问题。</p>
<p>（2）从键盘输入成绩，需要一个数组来存储这个数字成绩，并进行排序。</p>
<p>所以数据段要定义这样一个数组 dw 5 dup(0)</p>
<p>（3）将成绩按照降序排序，并且名字以及用来显示的成绩数组也要跟着降序排序。这里的做法有两种，第一是让名字和成绩ASCII码数组跟着进行降序排序。另外一种做法，是新增加一个数组，这个数组用来存储学生序号，让学生序号数组跟着进行排序。Rank
Dw 0,1,2,3,4</p>
<p>（4）显示成绩，需要一个成绩ASCII码数组存储成绩。 db 5 dup(4
dup($))。用排好的rank数组对成绩进行显示。</p>
<p>（5）显示姓名,用排好的rank数组对姓名进行显示。</p>
<h3 id="流程图-2">流程图</h3>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516210854839.png" class="" title="image-20230516210854839">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516212312325.png" class="" title="image-20230516212312325">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516212322440.png" class="" title="image-20230516212322440">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516205400265.png" class="" title="image-20230516205400265">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516212941818.png" class="" title="image-20230516212941818">
<h3 id="代码-2">代码</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">    nameA db 5 dup(13, ?, 13 dup('$'))</span><br><span class="line">    scoreAsc db 5 dup(4 dup('$'))</span><br><span class="line">    rank dw 0, 1, 2, 3, 4</span><br><span class="line">    scoreN dw 5 dup(0)</span><br><span class="line">    sn dw 5; 学生的数量</span><br><span class="line"></span><br><span class="line">    infoName db 0dh, 0ah, 'input Name: $'</span><br><span class="line">    infoScore db 0dh, 0ah, 'input Score: $'</span><br><span class="line">    n db 0</span><br><span class="line">    nl db 15; 名字的长度</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    sl db 4</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code, ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax, data;</span><br><span class="line">    mov ds, ax;</span><br><span class="line">    mov cx, sn;</span><br><span class="line">loopm:</span><br><span class="line">    mov dx, offset infoName;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    call inName;</span><br><span class="line">    mov dx, offset infoScore;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    call inScore</span><br><span class="line">    inc n; 对n做加1操作</span><br><span class="line">    loop loopm;</span><br><span class="line">    call sort;</span><br><span class="line">    call dis;</span><br><span class="line">    </span><br><span class="line">    mov ah, 4ch;</span><br><span class="line">    int 21h;</span><br><span class="line"></span><br><span class="line">inName proc; 输入姓名过程</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line">    push dx;</span><br><span class="line"></span><br><span class="line">    mov al, n;</span><br><span class="line">    mov cl, nl;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov dx, offset nameA;</span><br><span class="line">    add dx, ax;</span><br><span class="line">    mov ah, 0ah;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov bx, dx;</span><br><span class="line">    mov byte ptr [bx], 0ah;</span><br><span class="line">    inc bx;</span><br><span class="line">    mov byte ptr [bx], 0dh;</span><br><span class="line"></span><br><span class="line">    pop dx;</span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret;</span><br><span class="line">inName endp</span><br><span class="line"></span><br><span class="line">inScore proc; 输入成绩过程</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line">    push dx;</span><br><span class="line">    push si;</span><br><span class="line">    push di;</span><br><span class="line"></span><br><span class="line">    mov al, n;</span><br><span class="line">    mov cl, sl;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov bp, offset scoreAsc;</span><br><span class="line">    add bp, ax;</span><br><span class="line">    mov si, 0; 用于写入缓冲区，记录数位个数</span><br><span class="line">let0:</span><br><span class="line">    mov ah,1;</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al,0dh; enter</span><br><span class="line">    je let1;</span><br><span class="line">    mov ds:[bp], al;</span><br><span class="line">    inc bp;</span><br><span class="line">    sub al,30h; 将数字存入缓冲区</span><br><span class="line">    mov x[si],al;</span><br><span class="line">    inc si; 位数++</span><br><span class="line">    jmp let0;</span><br><span class="line">let1:</span><br><span class="line">    mov bx,0;</span><br><span class="line">    mov di,0;</span><br><span class="line">    cmp si,1; 判断是不是1位数</span><br><span class="line">    je let2;</span><br><span class="line">    cmp si,3; 判断是不是3位数</span><br><span class="line">    jne let3;</span><br><span class="line">    mov al,x[di]; 三位数</span><br><span class="line">    mov cl,100;</span><br><span class="line">    mul cl;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    inc di;</span><br><span class="line">let3:</span><br><span class="line">    mov al,x[di]; 两位数</span><br><span class="line">    mov cl,10;</span><br><span class="line">    mul cl;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    inc di;</span><br><span class="line">let2:</span><br><span class="line">    mov al,x[di]; 一位数</span><br><span class="line">    mov ah,0;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    mov ax,bx;</span><br><span class="line">    mov al, n;</span><br><span class="line">    mov cl, 2;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov di, ax;</span><br><span class="line">    mov scoreN[di], bx;</span><br><span class="line"></span><br><span class="line">    pop di;</span><br><span class="line">    pop si;</span><br><span class="line">    pop dx;</span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret</span><br><span class="line">inScore endp</span><br><span class="line"></span><br><span class="line">sort proc</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line"></span><br><span class="line">    mov cx, sn;</span><br><span class="line">    dec cx;</span><br><span class="line">loops1:</span><br><span class="line">    push cx;</span><br><span class="line">    mov bx, 0;</span><br><span class="line">loops2:</span><br><span class="line">    mov ax, scoreN[bx];</span><br><span class="line">    cmp ax, scoreN[bx + 2];</span><br><span class="line">    jae csort;</span><br><span class="line">    xchg ax, scoreN[bx + 2];</span><br><span class="line">    mov scoreN[bx], ax;</span><br><span class="line"></span><br><span class="line">    mov ax, rank[bx];</span><br><span class="line">    xchg ax, rank[bx + 2];</span><br><span class="line">    mov rank[bx], ax;</span><br><span class="line"></span><br><span class="line">csort:</span><br><span class="line">    add bx, 2;</span><br><span class="line">    loop loops2;</span><br><span class="line">    pop cx;</span><br><span class="line">    loop loops1;</span><br><span class="line"></span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret</span><br><span class="line">sort endp</span><br><span class="line"></span><br><span class="line">dis proc</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line">    push dx;</span><br><span class="line">    push di;</span><br><span class="line"></span><br><span class="line">    mov cx, sn;</span><br><span class="line">    mov di, 31h;</span><br><span class="line">    mov bx, 0;</span><br><span class="line">loopdis:</span><br><span class="line">    mov dx, di;</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0dh; 显示回车</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0ah; 显示换行</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ax, rank[bx];</span><br><span class="line">    mov dl, nl;</span><br><span class="line">    mul dl;</span><br><span class="line">    mov dx, offset nameA; 显示名字</span><br><span class="line">    add dx, ax;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0dh; 显示回车</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0ah; 显示换行</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov ax, rank[bx];</span><br><span class="line">    mov dl, sl;</span><br><span class="line">    mul dl;</span><br><span class="line">    mov dx, offset scoreAsc; 显示成绩</span><br><span class="line">    add dx, ax;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0dh; 显示回车</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0ah; 显示换行</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    inc di;</span><br><span class="line">    add bx, 2;</span><br><span class="line">    loop loopdis;</span><br><span class="line"></span><br><span class="line">    pop di;</span><br><span class="line">    pop dx;</span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret;</span><br><span class="line">dis endp</span><br><span class="line"></span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h3 id="运行截图-2">运行截图</h3>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516213414837.png" class="" title="image-20230516213414837">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230516213559567.png" class="" title="image-20230516213559567">
<h2 id="实验七">实验七</h2>
<h3 id="题目1">题目1</h3>
<p>用递归完成阶乘运算。</p>
<p>（1）代码</p>
<p>（2）Debug截图，递归过程中堆栈中保存最多数据的情况，并对截图中的数据给出解释，这些数据分别是什么值。</p>
<p>（3）对实验结果进行截图。</p>
<h4 id="代码-3"><strong>代码</strong></h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">stack segment stack</span><br><span class="line">    dw 128 dup(0)</span><br><span class="line">stack ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">    assume cs: code</span><br><span class="line">start:</span><br><span class="line">    mov bx, 5;</span><br><span class="line">    push bx;</span><br><span class="line">    call fac;</span><br><span class="line">    mov ah, 4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">fac proc</span><br><span class="line">    mov bp, sp;</span><br><span class="line">    add bp, 2;</span><br><span class="line">    mov bx, [bp];</span><br><span class="line">    cmp bx, 1;</span><br><span class="line">    jne next;</span><br><span class="line">    mov ax, 1;</span><br><span class="line">    jmp exit;</span><br><span class="line">next:</span><br><span class="line">    dec bx;</span><br><span class="line">    push bx;</span><br><span class="line">    call fac; 通过ax返回，返回的是fac(n - 1)的阶乘值</span><br><span class="line">    mov bp, sp;</span><br><span class="line">    add bp, 2;</span><br><span class="line">    mov bx, [bp];</span><br><span class="line">    mul bl; ax = al * bl &lt;=&gt; n * fac(n - 1)</span><br><span class="line">    jmp exit;</span><br><span class="line">exit:</span><br><span class="line">    ret 2;</span><br><span class="line">fac endp</span><br><span class="line"></span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h4 id="debug截图"><strong>Debug截图</strong></h4>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525114925201.png" class="" title="image-20230525114925201">
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525115531441.png" class="" title="image-20230525115531441">
<p>如图所示，当BP的值为00EC时，堆栈中保存的数据最多。图中的05、04、03、02、01、00表示还要递归的次数，23和07表示调用子程序时入栈的IP地址。</p>
<h4 id="运行截图-3"><strong>运行截图</strong></h4>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525120929729.png" class="" title="image-20230525120929729">
<p>如图所示，AX寄存器存储了5的阶乘的结果78H，转换为十进制即为120，结果正确。</p>
<h3 id="题目2">题目2</h3>
<p>将第六次实验课中的输入姓名成绩排序并输出的题目，依据实际情况拆分成5个或者6个.asm文件。</p>
<p>（1） 简单阐述拆分思路。</p>
<p>（2）
写代码。看一下数据，哪些适合放在主过程文件，哪些适合放在子过程文件。</p>
<p>（3） 对实验结果进行截图。</p>
<h4 id="拆分思路"><strong>拆分思路</strong></h4>
<p>将整个程序依据功能拆分为显示功能、输入姓名功能、输入成绩功能和排序功能。</p>
<h4 id="代码-4"><strong>代码</strong></h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">; dis.asm</span><br><span class="line">include \test\exp0515\test.mac</span><br><span class="line">public dis;</span><br><span class="line">data segment common 'data'</span><br><span class="line">    sn equ 5; 学生的数量</span><br><span class="line">    nameA db sn dup(13, ?, 13 dup('$'))</span><br><span class="line">    scoreAsc db sn dup(4 dup('$'))</span><br><span class="line">    rank dw 0, 1, 2, 3, 4</span><br><span class="line">    scoreN dw sn dup(0)</span><br><span class="line">    </span><br><span class="line">    infoName db 0dh, 0ah, 'input Name: $'</span><br><span class="line">    infoScore db 0dh, 0ah, 'input Score: $'</span><br><span class="line">    n db 0</span><br><span class="line">    nl db 15; 名字的长度</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    sl db 4</span><br><span class="line">data ends</span><br><span class="line">code segment public 'code'</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">dis proc</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line">    push dx;</span><br><span class="line">    push di;</span><br><span class="line"></span><br><span class="line">    mov cx, sn;</span><br><span class="line">    mov di, 31h;</span><br><span class="line">    mov bx, 0;</span><br><span class="line">loopdis:</span><br><span class="line">    mov dx, di;</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    printEnter;</span><br><span class="line">    mov ax, rank[bx];</span><br><span class="line">    mov dl, nl;</span><br><span class="line">    mul dl;</span><br><span class="line">    mov dx, offset nameA; 显示名字</span><br><span class="line">    add dx, ax;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    printEnter;</span><br><span class="line">    mov ax, rank[bx];</span><br><span class="line">    mov dl, sl;</span><br><span class="line">    mul dl;</span><br><span class="line">    mov dx, offset scoreAsc; 显示成绩</span><br><span class="line">    add dx, ax;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    printEnter;</span><br><span class="line">    inc di;</span><br><span class="line">    add bx, 2;</span><br><span class="line">    loop loopdis;</span><br><span class="line"></span><br><span class="line">    pop di;</span><br><span class="line">    pop dx;</span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret;</span><br><span class="line">dis endp</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">; inname.asm</span><br><span class="line">public inName;</span><br><span class="line">data segment common 'data'</span><br><span class="line">    sn equ 5; 学生的数量</span><br><span class="line">    nameA db sn dup(13, ?, 13 dup('$'))</span><br><span class="line">    scoreAsc db sn dup(4 dup('$'))</span><br><span class="line">    rank dw 0, 1, 2, 3, 4</span><br><span class="line">    scoreN dw sn dup(0)</span><br><span class="line">    </span><br><span class="line">    infoName db 0dh, 0ah, 'input Name: $'</span><br><span class="line">    infoScore db 0dh, 0ah, 'input Score: $'</span><br><span class="line">    n db 0</span><br><span class="line">    nl db 15; 名字的长度</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    sl db 4</span><br><span class="line">data ends</span><br><span class="line">code segment public 'code'</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">inName proc; 输入姓名过程</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line">    push dx;</span><br><span class="line"></span><br><span class="line">    mov al, n;</span><br><span class="line">    mov cl, nl;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov dx, offset nameA;</span><br><span class="line">    add dx, ax;</span><br><span class="line">    mov ah, 0ah;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov bx, dx;</span><br><span class="line">    mov byte ptr [bx], 0ah;</span><br><span class="line">    inc bx;</span><br><span class="line">    mov byte ptr [bx], 0dh;</span><br><span class="line"></span><br><span class="line">    pop dx;</span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret;</span><br><span class="line">inName endp</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">; inscore.asm</span><br><span class="line">public inScore;</span><br><span class="line">data segment common 'data'</span><br><span class="line">    sn equ 5; 学生的数量</span><br><span class="line">    nameA db sn dup(13, ?, 13 dup('$'))</span><br><span class="line">    scoreAsc db sn dup(4 dup('$'))</span><br><span class="line">    rank dw 0, 1, 2, 3, 4</span><br><span class="line">    scoreN dw sn dup(0)</span><br><span class="line">    </span><br><span class="line">    infoName db 0dh, 0ah, 'input Name: $'</span><br><span class="line">    infoScore db 0dh, 0ah, 'input Score: $'</span><br><span class="line">    n db 0</span><br><span class="line">    nl db 15; 名字的长度</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    sl db 4</span><br><span class="line">data ends</span><br><span class="line">code segment public 'code'</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">inScore proc; 输入成绩过程</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line">    push dx;</span><br><span class="line">    push si;</span><br><span class="line">    push di;</span><br><span class="line"></span><br><span class="line">    mov al, n;</span><br><span class="line">    mov cl, sl;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov bp, offset scoreAsc;</span><br><span class="line">    add bp, ax;</span><br><span class="line">    mov si, 0; 用于写入缓冲区，记录数位个数</span><br><span class="line">let0:</span><br><span class="line">    mov ah,1;</span><br><span class="line">    int 21h;</span><br><span class="line">    cmp al,0dh; enter</span><br><span class="line">    je let1;</span><br><span class="line">    mov ds:[bp], al;</span><br><span class="line">    inc bp;</span><br><span class="line">    sub al,30h; 将数字存入缓冲区</span><br><span class="line">    mov x[si],al;</span><br><span class="line">    inc si; 位数++</span><br><span class="line">    jmp let0;</span><br><span class="line">let1:</span><br><span class="line">    mov bx,0;</span><br><span class="line">    mov di,0;</span><br><span class="line">    cmp si,1; 判断是不是1位数</span><br><span class="line">    je let2;</span><br><span class="line">    cmp si,3; 判断是不是3位数</span><br><span class="line">    jne let3;</span><br><span class="line">    mov al,x[di]; 三位数</span><br><span class="line">    mov cl,100;</span><br><span class="line">    mul cl;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    inc di;</span><br><span class="line">let3:</span><br><span class="line">    mov al,x[di]; 两位数</span><br><span class="line">    mov cl,10;</span><br><span class="line">    mul cl;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    inc di;</span><br><span class="line">let2:</span><br><span class="line">    mov al,x[di]; 一位数</span><br><span class="line">    mov ah,0;</span><br><span class="line">    add bx,ax;</span><br><span class="line">    mov ax,bx;</span><br><span class="line">    mov al, n;</span><br><span class="line">    mov cl, 2;</span><br><span class="line">    mul cl;</span><br><span class="line">    mov di, ax;</span><br><span class="line">    mov scoreN[di], bx;</span><br><span class="line"></span><br><span class="line">    pop di;</span><br><span class="line">    pop si;</span><br><span class="line">    pop dx;</span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret</span><br><span class="line">inScore endp</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">; main.asm</span><br><span class="line">extrn inName: near, inScore: near, sort: near, dis: near</span><br><span class="line">data segment common</span><br><span class="line">    sn equ 5; 学生的数量</span><br><span class="line">    nameA db sn dup(13, ?, 13 dup('$'))</span><br><span class="line">    scoreAsc db sn dup(4 dup('$'))</span><br><span class="line">    rank dw 0, 1, 2, 3, 4</span><br><span class="line">    scoreN dw sn dup(0)</span><br><span class="line">    </span><br><span class="line">    infoName db 0dh, 0ah, 'input Name: $'</span><br><span class="line">    infoScore db 0dh, 0ah, 'input Score: $'</span><br><span class="line">    n db 0</span><br><span class="line">    nl db 15; 名字的长度</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    sl db 4</span><br><span class="line">data ends</span><br><span class="line">code segment public 'code'</span><br><span class="line">    assume cs:code, ds:data</span><br><span class="line">start:</span><br><span class="line">    mov ax, data;</span><br><span class="line">    mov ds, ax;</span><br><span class="line">    mov cx, sn;</span><br><span class="line">loopm:</span><br><span class="line">    mov dx, offset infoName;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    call inName;</span><br><span class="line">    mov dx, offset infoScore;</span><br><span class="line">    mov ah, 9;</span><br><span class="line">    int 21h;</span><br><span class="line">    call inScore</span><br><span class="line">    inc n; 对n做加1操作</span><br><span class="line">    loop loopm;</span><br><span class="line">    call sort;</span><br><span class="line">    call dis;</span><br><span class="line">    </span><br><span class="line">    mov ah, 4ch;</span><br><span class="line">    int 21h;</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">; sort.asm</span><br><span class="line">public sort;</span><br><span class="line">data segment common 'data'</span><br><span class="line">    sn equ 5; 学生的数量</span><br><span class="line">    nameA db sn dup(13, ?, 13 dup('$'))</span><br><span class="line">    scoreAsc db sn dup(4 dup('$'))</span><br><span class="line">    rank dw 0, 1, 2, 3, 4</span><br><span class="line">    scoreN dw sn dup(0)</span><br><span class="line">    </span><br><span class="line">    infoName db 0dh, 0ah, 'input Name: $'</span><br><span class="line">    infoScore db 0dh, 0ah, 'input Score: $'</span><br><span class="line">    n db 0</span><br><span class="line">    nl db 15; 名字的长度</span><br><span class="line">    x db 3 dup(0)</span><br><span class="line">    sl db 4</span><br><span class="line">data ends</span><br><span class="line">code segment public 'code'</span><br><span class="line">    assume cs: code, ds: data</span><br><span class="line">sort proc</span><br><span class="line">    push ax; 保护寄存器的值</span><br><span class="line">    push bx;</span><br><span class="line">    push cx;</span><br><span class="line"></span><br><span class="line">    mov cx, sn;</span><br><span class="line">    dec cx;</span><br><span class="line">loops1:</span><br><span class="line">    push cx;</span><br><span class="line">    mov bx, 0;</span><br><span class="line">loops2:</span><br><span class="line">    mov ax, scoreN[bx];</span><br><span class="line">    cmp ax, scoreN[bx + 2];</span><br><span class="line">    jae csort;</span><br><span class="line">    xchg ax, scoreN[bx + 2];</span><br><span class="line">    mov scoreN[bx], ax;</span><br><span class="line"></span><br><span class="line">    mov ax, rank[bx];</span><br><span class="line">    xchg ax, rank[bx + 2];</span><br><span class="line">    mov rank[bx], ax;</span><br><span class="line"></span><br><span class="line">csort:</span><br><span class="line">    add bx, 2;</span><br><span class="line">    loop loops2;</span><br><span class="line">    pop cx;</span><br><span class="line">    loop loops1;</span><br><span class="line"></span><br><span class="line">    pop cx;</span><br><span class="line">    pop bx;</span><br><span class="line">    pop ax;</span><br><span class="line">    ret</span><br><span class="line">sort endp</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h4 id="结果截图"><strong>结果截图</strong></h4>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525121321574.png" class="" title="image-20230525121321574">
<h3 id="题目3">题目3</h3>
<p>将2中某些重复代码改写成宏，并将其放在.mac文件中。并用include命令引入。</p>
<p>（1）将mac文件中的内容进行截图。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">printEnter macro</span><br><span class="line">    mov dl, 0dh;</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">    mov dl, 0ah;</span><br><span class="line">    mov ah, 2;</span><br><span class="line">    int 21h;</span><br><span class="line">endm</span><br></pre></td></tr></table></figure>
<p>（2）将宏展开进行截图。</p>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525121557059.png" class="" title="image-20230525121557059">
<p>如图所示，宏printEnter在dis.asm代码中展开。</p>
<h2 id="实验八">实验八</h2>
<h3 id="题目1-1">题目1</h3>
<p>1、键盘9号中断，和bios 16h号中断（P213页）。改写9号中断。</p>
<p>9号中断：硬件中断。 触发条件：按下键盘上的一个键。</p>
<p>16h号中断：软件中断。 触发条件：软件中调用。</p>
<p>（1） 给出代码，代码加注释。</p>
<p>（2） 给出实验结果截图。</p>
<h4 id="代码-5"><strong>代码</strong></h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">code segment</span><br><span class="line">    assume cs:code</span><br><span class="line">start:</span><br><span class="line">    mov ax, 0</span><br><span class="line">    mov ds, ax</span><br><span class="line">    push ds:[0024h] ;保护原有的中断服务程序</span><br><span class="line">    pop ds:[0200h]</span><br><span class="line">    push ds:[0026h]</span><br><span class="line">    pop ds:[0202h]</span><br><span class="line">    mov ah, 25h</span><br><span class="line">    mov al, 9</span><br><span class="line">    push cs</span><br><span class="line">    pop ds</span><br><span class="line">    mov dx, offset int9</span><br><span class="line">    int 21h</span><br><span class="line">    mov ah, 31h ;int9proc依然保存在内存当中</span><br><span class="line">    mov al, 0</span><br><span class="line">    mov dx, int9end - int9start + 16</span><br><span class="line">    int 21h</span><br><span class="line"></span><br><span class="line">int9 proc</span><br><span class="line">int9start:</span><br><span class="line">    push ax</span><br><span class="line">    push bx</span><br><span class="line">    push cx</span><br><span class="line">    push es</span><br><span class="line">    in al, 60h</span><br><span class="line">    pushf</span><br><span class="line">    mov cx, 0</span><br><span class="line">    mov es, cx</span><br><span class="line">    call dword ptr es:[0200h]</span><br><span class="line">    cmp al, 1eh</span><br><span class="line">    jne int9ret</span><br><span class="line">    mov ax, 0b800h</span><br><span class="line">    mov es, ax</span><br><span class="line">    mov bx, 1</span><br><span class="line">    mov cx, 2000</span><br><span class="line">change:</span><br><span class="line">    inc byte ptr es:[bx]</span><br><span class="line">    add bx, 2</span><br><span class="line">    loop change</span><br><span class="line">int9ret:</span><br><span class="line">    pop es</span><br><span class="line">    pop cx</span><br><span class="line">    pop bx</span><br><span class="line">    pop ax</span><br><span class="line">    iret</span><br><span class="line">int9 endp</span><br><span class="line">int9end: nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h4 id="结果截图-1"><strong>结果截图</strong></h4>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525201528999.png" class="" title="image-20230525201528999">
<p>如图所示，程序改写了9号中断，实现了用户按下a键可以使Dos窗口变色的效果。</p>
<h3 id="题目2-1">题目2</h3>
<p>模仿课本第二版P203页示例9-1代码编写7ch号中断。</p>
<p>7ch号中断处理程序的功能是在屏幕上输出自己的班级，班级序号，学号，姓名。</p>
<p>例如：1706 1 20177004 xuhaoyong</p>
<p>并在另外一个程序程序中调用7ch号中断。</p>
<ol type="1">
<li><p>给出代码，代码加注释。</p></li>
<li><p>给出实验结果截图。</p></li>
<li><p>给出7ch号中断向量表截图。</p></li>
</ol>
<h4 id="代码-6"><strong>代码</strong></h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">; int7c.asm</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code</span><br><span class="line">start:</span><br><span class="line">    mov ah, 25h</span><br><span class="line">    mov al, 7ch</span><br><span class="line">    push cs</span><br><span class="line">    pop ds</span><br><span class="line">    mov dx, offset int7c</span><br><span class="line">    int 21h</span><br><span class="line">    mov ah, 31h ;int9proc依然保存在内存当中</span><br><span class="line">    mov al, 0</span><br><span class="line">    mov dx, int7chend - int7cstart + 16</span><br><span class="line">    int 21h</span><br><span class="line"></span><br><span class="line">int7c proc</span><br><span class="line">int7cstart:</span><br><span class="line">    push ds</span><br><span class="line">    push ax</span><br><span class="line">    push dx</span><br><span class="line">    jmp int7chcode</span><br><span class="line">    info db '2101 22 202112143 lijunqi$'</span><br><span class="line">int7chcode:</span><br><span class="line">    push cs</span><br><span class="line">    pop ds</span><br><span class="line">    mov dx, offset info</span><br><span class="line">    mov ah, 9</span><br><span class="line">    int 21h</span><br><span class="line">    pop dx</span><br><span class="line">    pop ax</span><br><span class="line">    pop ds</span><br><span class="line">    iret</span><br><span class="line">int7c endp</span><br><span class="line">int7chend: nop</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">; test.asm</span><br><span class="line">code segment</span><br><span class="line">    assume cs:code</span><br><span class="line">start:</span><br><span class="line">    int 7ch</span><br><span class="line">    mov ah, 4ch</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>
<h4 id="结果截图-2"><strong>结果截图</strong></h4>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525201941810.png" class="" title="image-20230525201941810">
<h4 id="ch号中断向量表截图"><strong>7ch号中断向量表截图</strong></h4>
<img src="/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/image-20230525204003465.png" class="" title="image-20230525204003465">
<p>如图所示，7ch号中断的中断向量为7ch*4=1f0h，因此访问数据段0000:01f0即可获取7ch号中断的中断向量表。</p>
<h3 id="题目3-1">题目3</h3>
<p>查找资料，写出子程序和中断程序的区别。</p>
<p>两者的区别在于：子程序是为主程序服务的，而中断程序与主程序的程序毫无关系；子程序是由调用指令给出目标地址，中断是通过隐指令获得中断服务程序的入口地址；中断服务子程序以IRET结束，而一般子程序以RET结束。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://keikei99.github.io">Keike1</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://keikei99.github.io/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/">https://keikei99.github.io/2023/04/05/%E3%80%90Assembly%E3%80%91%E6%9C%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://keikei99.github.io" target="_blank">Keike1</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Assembly/">Assembly</a></div><div class="post_share"><div class="social-share" data-image="/img/page/page7.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/04/15/%E3%80%90Base%E3%80%91%E6%B1%82%E8%81%8C%E7%AE%80%E5%8E%86%E4%BB%A5%E5%8F%8A%E9%9D%A2%E8%AF%95%E6%95%99%E7%A8%8B/" title="【Base】求职简历以及面试教程"><img class="cover" src="/img/page/page2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">【Base】求职简历以及面试教程</div></div></a></div><div class="next-post pull-right"><a href="/2023/04/01/%E3%80%90Chainlink%E3%80%91Chainlink-Any-API/" title="【Chainlink】Chainlink Any API"><img class="cover" src="/img/page/page6.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">【Chainlink】Chainlink Any API</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/06/01/%E3%80%90Assembly%E3%80%91%E8%AF%BE%E5%90%8E%E6%B5%8B%E9%AA%8C%E9%A2%98%E6%9E%90/" title="【Assembly】课后测验题析"><img class="cover" src="/img/page/page1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-01</div><div class="title">【Assembly】课后测验题析</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/ip.ico" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Keike1</div><div class="author-info__description">A CST student.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Keikei99"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Hey, welcome to my blog!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%BE%E6%9C%AC"><span class="toc-number">1.</span> <span class="toc-text">课本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">编译方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%AA%E6%8C%87%E4%BB%A4%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.</span> <span class="toc-text">伪指令定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AE%B5%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="toc-number">1.2.1.</span> <span class="toc-text">段定义伪指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="toc-number">1.2.2.</span> <span class="toc-text">数据定义伪指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="toc-number">1.2.3.</span> <span class="toc-text">其他伪指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E6%95%B0%E5%80%92%E5%BA%8F%E5%AD%98%E6%94%BE"><span class="toc-number">1.3.</span> <span class="toc-text">3个数倒序存放</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E6%95%B0%E7%9A%84ascii%E7%A0%81%E8%A1%A8"><span class="toc-number">1.4.</span> <span class="toc-text">查十六进制数的ASCII码表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E5%86%85%E7%9A%84%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0%E4%B8%8E%E4%B8%80%E4%BD%8D%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E6%95%B0%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.5.</span> <span class="toc-text">15以内的十进制数与一位十六进制数的转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E5%8F%8C%E7%B2%BE%E5%BA%A6%E6%95%B0%E5%8A%A0%E6%B3%95"><span class="toc-number">1.6.</span> <span class="toc-text">两个双精度数加法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-1"><span class="toc-number">1.7.</span> <span class="toc-text">分支程序设计5-1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-2"><span class="toc-number">1.8.</span> <span class="toc-text">分支程序设计5-2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-3"><span class="toc-number">1.9.</span> <span class="toc-text">分支程序设计5-3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-4"><span class="toc-number">1.10.</span> <span class="toc-text">分支程序设计5-4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-5"><span class="toc-number">1.11.</span> <span class="toc-text">分支程序设计5-5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-8"><span class="toc-number">1.12.</span> <span class="toc-text">分支程序设计5-8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A15-9"><span class="toc-number">1.13.</span> <span class="toc-text">分支程序设计5-9</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A5-27"><span class="toc-number">1.14.</span> <span class="toc-text">作业5-27</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A5-28"><span class="toc-number">1.15.</span> <span class="toc-text">作业5-28</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A5-29"><span class="toc-number">1.16.</span> <span class="toc-text">作业5-29</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A5-30"><span class="toc-number">1.17.</span> <span class="toc-text">作业5-30</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A5-31"><span class="toc-number">1.18.</span> <span class="toc-text">作业5-31</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-1"><span class="toc-number">1.19.</span> <span class="toc-text">循环程序设计6-1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-2"><span class="toc-number">1.20.</span> <span class="toc-text">循环程序设计6-2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-3"><span class="toc-number">1.21.</span> <span class="toc-text">循环程序设计6-3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-4"><span class="toc-number">1.22.</span> <span class="toc-text">循环程序设计6-4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-5"><span class="toc-number">1.23.</span> <span class="toc-text">循环程序设计6-5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-6"><span class="toc-number">1.24.</span> <span class="toc-text">循环程序设计6-6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-7"><span class="toc-number">1.25.</span> <span class="toc-text">循环程序设计6-7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-8"><span class="toc-number">1.26.</span> <span class="toc-text">循环程序设计6-8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-6-1"><span class="toc-number">1.27.</span> <span class="toc-text">循环程序设计6-6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A16-6-2"><span class="toc-number">1.28.</span> <span class="toc-text">循环程序设计6-6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A6-14"><span class="toc-number">1.29.</span> <span class="toc-text">作业6-14</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A6-16"><span class="toc-number">1.30.</span> <span class="toc-text">作业6-16</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A6-17"><span class="toc-number">1.31.</span> <span class="toc-text">作业6-17</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A6-20"><span class="toc-number">1.32.</span> <span class="toc-text">作业6-20</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A6-22"><span class="toc-number">1.33.</span> <span class="toc-text">作业6-22</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A17-1"><span class="toc-number">1.34.</span> <span class="toc-text">子程序设计7-1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.35.</span> <span class="toc-text">子程序设计</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C"><span class="toc-number">2.</span> <span class="toc-text">实验</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%80"><span class="toc-number">2.1.</span> <span class="toc-text">实验一</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%8C"><span class="toc-number">2.2.</span> <span class="toc-text">实验二</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%89"><span class="toc-number">2.3.</span> <span class="toc-text">实验三</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E4%BD%8D%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.1.</span> <span class="toc-text">二位字符数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.2.</span> <span class="toc-text">一维字符串指针数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%9B%9B"><span class="toc-number">2.4.</span> <span class="toc-text">实验四</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF"><span class="toc-number">2.4.1.</span> <span class="toc-text">设计思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">2.4.2.</span> <span class="toc-text">流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">2.4.3.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%88%AA%E5%9B%BE"><span class="toc-number">2.4.4.</span> <span class="toc-text">运行截图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%BA%94"><span class="toc-number">2.5.</span> <span class="toc-text">实验五</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF-1"><span class="toc-number">2.5.1.</span> <span class="toc-text">设计思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%9B%BE-1"><span class="toc-number">2.5.2.</span> <span class="toc-text">流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-1"><span class="toc-number">2.5.3.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%88%AA%E5%9B%BE-1"><span class="toc-number">2.5.4.</span> <span class="toc-text">运行截图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%85%AD"><span class="toc-number">2.6.</span> <span class="toc-text">实验六</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF-2"><span class="toc-number">2.6.1.</span> <span class="toc-text">设计思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%9B%BE-2"><span class="toc-number">2.6.2.</span> <span class="toc-text">流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="toc-number">2.6.3.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%88%AA%E5%9B%BE-2"><span class="toc-number">2.6.4.</span> <span class="toc-text">运行截图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E4%B8%83"><span class="toc-number">2.7.</span> <span class="toc-text">实验七</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE1"><span class="toc-number">2.7.1.</span> <span class="toc-text">题目1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-3"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#debug%E6%88%AA%E5%9B%BE"><span class="toc-number">2.7.1.2.</span> <span class="toc-text">Debug截图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%88%AA%E5%9B%BE-3"><span class="toc-number">2.7.1.3.</span> <span class="toc-text">运行截图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE2"><span class="toc-number">2.7.2.</span> <span class="toc-text">题目2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%86%E5%88%86%E6%80%9D%E8%B7%AF"><span class="toc-number">2.7.2.1.</span> <span class="toc-text">拆分思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-4"><span class="toc-number">2.7.2.2.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E6%88%AA%E5%9B%BE"><span class="toc-number">2.7.2.3.</span> <span class="toc-text">结果截图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE3"><span class="toc-number">2.7.3.</span> <span class="toc-text">题目3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E5%85%AB"><span class="toc-number">2.8.</span> <span class="toc-text">实验八</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE1-1"><span class="toc-number">2.8.1.</span> <span class="toc-text">题目1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-5"><span class="toc-number">2.8.1.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E6%88%AA%E5%9B%BE-1"><span class="toc-number">2.8.1.2.</span> <span class="toc-text">结果截图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE2-1"><span class="toc-number">2.8.2.</span> <span class="toc-text">题目2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-6"><span class="toc-number">2.8.2.1.</span> <span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E6%88%AA%E5%9B%BE-2"><span class="toc-number">2.8.2.2.</span> <span class="toc-text">结果截图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ch%E5%8F%B7%E4%B8%AD%E6%96%AD%E5%90%91%E9%87%8F%E8%A1%A8%E6%88%AA%E5%9B%BE"><span class="toc-number">2.8.2.3.</span> <span class="toc-text">7ch号中断向量表截图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE3-1"><span class="toc-number">2.8.3.</span> <span class="toc-text">题目3</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/22/xv6%E6%96%87%E6%A1%A3%E6%9D%82%E8%AE%B0/" title="xv6文档杂记"><img src="/img/page/page1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="xv6文档杂记"/></a><div class="content"><a class="title" href="/2024/01/22/xv6%E6%96%87%E6%A1%A3%E6%9D%82%E8%AE%B0/" title="xv6文档杂记">xv6文档杂记</a><time datetime="2024-01-22T13:33:25.000Z" title="发表于 2024-01-22 21:33:25">2024-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/28/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0/" title="编译原理复习"><img src="/img/page/page3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编译原理复习"/></a><div class="content"><a class="title" href="/2023/11/28/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0/" title="编译原理复习">编译原理复习</a><time datetime="2023-11-28T02:54:48.000Z" title="发表于 2023-11-28 10:54:48">2023-11-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/13/HTML-CSS%E5%AD%A6%E4%B9%A0/" title="HTML/CSS学习"><img src="/img/page/page3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTML/CSS学习"/></a><div class="content"><a class="title" href="/2023/10/13/HTML-CSS%E5%AD%A6%E4%B9%A0/" title="HTML/CSS学习">HTML/CSS学习</a><time datetime="2023-10-13T15:40:07.000Z" title="发表于 2023-10-13 23:40:07">2023-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/04/HackTheBox/" title="HackTheBox"><img src="/img/page/page7.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HackTheBox"/></a><div class="content"><a class="title" href="/2023/10/04/HackTheBox/" title="HackTheBox">HackTheBox</a><time datetime="2023-10-04T12:00:41.000Z" title="发表于 2023-10-04 20:00:41">2023-10-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/06/%E8%87%AA%E5%88%B6Hexo%E9%83%A8%E7%BD%B2%E5%99%A8/" title="自制Hexo部署器"><img src="/img/page/page5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自制Hexo部署器"/></a><div class="content"><a class="title" href="/2023/09/06/%E8%87%AA%E5%88%B6Hexo%E9%83%A8%E7%BD%B2%E5%99%A8/" title="自制Hexo部署器">自制Hexo部署器</a><time datetime="2023-09-06T10:25:59.000Z" title="发表于 2023-09-06 18:25:59">2023-09-06</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/page/page7.png')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Keike1</div><div class="icp"><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/"><img class="icp-icon" src="/img/icp.png"/><span>粤ICP备2023008726号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>